import './polyfills.server.mjs';
import{$ as yn,$a as le,A as ui,Aa as ve,B as Dt,Ba as c,C as Z,Ca as O,D as P,Da as K,E as b,Ea as te,F as B,Fa as Qe,G as R,Ga as Ve,H as D,Ha as ct,I as gn,Ia as dt,J as pe,Ja as Ge,K as M,Ka as fi,L as C,La as On,M as I,N as _n,Na as Rn,O as hi,Oa as Ze,P as Ke,Q as E,R as T,S as Me,Sa as mi,T as fe,Ta as Ot,U as me,V as ge,Va as Rt,W as lt,Wa as At,X as vn,Xa as gi,Y as pi,Ya as Le,Z as h,Za as An,_ as p,_a as kn,a as ai,aa as bn,ab as kt,b as ze,ba as Je,bb as Nn,c as V,ca as X,cb as Nt,d as ln,da as z,db as U,e as cn,ea as A,eb as xn,f as dn,fa as _e,fb as In,g as Ie,ga as m,gb as Fn,h as We,ha as Ye,hb as Pn,i as at,ia as qe,ib as Bn,j as Ce,ja as ee,jb as Vn,k as J,ka as Be,kb as _i,l as un,la as r,lb as xt,m as Ee,ma as a,mb as It,n as hn,na as f,nb as vi,o as li,oa as St,ob as Gn,p as Fe,pa as Mt,q as pn,qa as k,r as Tt,ra as Cn,rb as Ln,s as Pe,sa as v,t as fn,ta as _,u as mn,ua as En,v as ci,va as Tn,vb as Hn,w as ie,wa as wn,x as di,xa as Dn,xb as Oe,y as Q,ya as Sn,yb as yi,z as wt,za as Mn}from"./chunk-HBJUAN3B.mjs";import{a as jn,b as bi,c as Un,d as $n,e as Ci,f as zn,g as Ei,h as Wn,i as ut,j as ne}from"./chunk-WG26VZKV.mjs";import"./chunk-3SZVCSKE.mjs";import{a as x,b as W,f as Ho,h as an,j as he}from"./chunk-H6KHSOBK.mjs";var Ii=Ho((Ni,xi)=>{"use strict";(function(i,e){typeof define=="function"&&define.amd?define([],e):typeof Ni<"u"?e():(e(),i.FileSaver={})})(Ni,function(){"use strict";function i(d,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function e(d,u,y){var g=new XMLHttpRequest;g.open("GET",d),g.responseType="blob",g.onload=function(){l(g.response,u,y)},g.onerror=function(){console.error("could not download file")},g.send()}function s(d){var u=new XMLHttpRequest;u.open("HEAD",d,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function t(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(u)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(d,u,y){var g=n.URL||n.webkitURL,S=document.createElement("a");u=u||d.name||"download",S.download=u,S.rel="noopener",typeof d=="string"?(S.href=d,S.origin===location.origin?t(S):s(S.href)?e(d,u,y):t(S,S.target="_blank")):(S.href=g.createObjectURL(d),setTimeout(function(){g.revokeObjectURL(S.href)},4e4),setTimeout(function(){t(S)},0))}:"msSaveOrOpenBlob"in navigator?function(d,u,y){if(u=u||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(i(d,y),u);else if(s(d))e(d,u,y);else{var g=document.createElement("a");g.href=d,g.target="_blank",setTimeout(function(){t(g)})}}:function(d,u,y,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof d=="string")return e(d,u,y);var S=d.type==="application/octet-stream",H=/constructor/i.test(n.HTMLElement)||n.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||S&&H||o)&&typeof FileReader<"u"){var De=new FileReader;De.onloadend=function(){var Se=De.result;Se=N?Se:Se.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=Se:location=Se,g=null},De.readAsDataURL(d)}else{var ae=n.URL||n.webkitURL,$=ae.createObjectURL(d);g?g.location=$:location.href=$,g=null,setTimeout(function(){ae.revokeObjectURL($)},4e4)}});n.saveAs=l.saveAs=l,typeof xi<"u"&&(xi.exports=l)})});var jo="firebase",Uo="10.9.0";ut(jo,Uo,"app");var pt=new fi("ANGULARFIRE2_VERSION");var $o=(i,e)=>{let s=e?[e]:Wn(),t=[];return s.forEach(n=>{n.container.getProvider(i).instances.forEach(l=>{t.includes(l)||t.push(l)})}),t},ht=class{constructor(){return $o(zo)}},zo="app-check";function Ti(){}var Ft=class{zone;delegate;constructor(e,s=cn){this.zone=e,this.delegate=s}now(){return this.delegate.now()}schedule(e,s,t){let n=this.zone,o=function(l){n.runGuarded(()=>{e.apply(this,[l])})};return this.delegate.schedule(o,s,t)}},wi=class{zone;task=null;constructor(e){this.zone=e}call(e,s){let t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ti,{},Ti,Ti)),s.pipe(wt({next:t,complete:t,error:t})).subscribe(e).add(t)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Kn=(()=>{class i{ngZone;outsideAngular;insideAngular;constructor(s){this.ngZone=s,this.outsideAngular=s.runOutsideAngular(()=>new Ft(Zone.current)),this.insideAngular=s.run(()=>new Ft(Zone.current,ln)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(t){return new(t||i)(R(X))};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Wo(){let i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return i}function Jn(i){return Ko(Wo())(i)}function Ko(i){return function(s){return s=s.lift(new wi(i.ngZone)),s.pipe(We(i.outsideAngular),Ie(i.insideAngular))}}var Yo="firebase",qo="10.9.0";ne.registerVersion(Yo,qo,"app-compat");var Qo=["ngOnDestroy"],qn=(i,e,s,t={})=>new Proxy(i,{get:(n,o)=>s.runOutsideAngular(()=>{if(i[o])return t?.spy?.get&&t.spy.get(o,i[o]),i[o];if(Qo.indexOf(o)>-1)return()=>{};let l=e.toPromise().then(d=>{let u=d?.[o];return typeof u=="function"?u.bind(d):u?.then?u.then(y=>s.run(()=>y)):s.run(()=>u)});return new Proxy(()=>{},{get:(d,u)=>l[u],apply:(d,u,y)=>l.then(g=>{let S=g?.(...y);return t?.spy?.apply&&t.spy.apply(o,y,S),S})})})});var Pt=class{constructor(e){return e}},Bt=new B("angularfire2.app.options"),Vt=new B("angularfire2.app.name");function Di(i,e,s){let t=typeof s=="string"&&s||"[DEFAULT]",n=typeof s=="object"&&s||{};n.name=n.name||t;let l=ne.apps.filter(d=>d&&d.name===n.name)[0]||e.runOutsideAngular(()=>ne.initializeApp(i,n));try{if(JSON.stringify(i)!==JSON.stringify(l.options)){let d=!!module.hot;Zo("error",`${l.name} Firebase App already initialized with different options${d?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Pt(l)}var Zo=(i,...e)=>{mi()&&typeof console<"u"&&console[i](...e)},Xo={provide:Pt,useFactory:Di,deps:[Bt,X,[new gn,Vt]]},Qn=(()=>{class i{static initializeApp(s,t){return{ngModule:i,providers:[{provide:Bt,useValue:s},{provide:Vt,useValue:t}]}}constructor(s){ne.registerVersion("angularfire",pt.full,"core"),ne.registerVersion("angularfire",pt.full,"app-compat"),ne.registerVersion("angular",On.full,s.toString())}static \u0275fac=function(t){return new(t||i)(R(lt))};static \u0275mod=C({type:i});static \u0275inj=b({providers:[Xo]})}return i})();function Zn(i,e,s,t,n){let[,o,l]=globalThis.\u0275AngularfireInstanceCache.find(d=>d[0]===i)||[];if(o)return er(n,l)||(Yn("error",`${e} was already initialized on the ${s} Firebase App with different settings.${tr?" You may need to reload as Firebase is not HMR aware.":""}`),Yn("warn",{is:n,was:l})),o;{let d=t();return globalThis.\u0275AngularfireInstanceCache.push([i,d,n]),d}}function er(i,e){try{return i.toString()===e.toString()}catch{return i===e}}var tr=typeof module<"u"&&!!module.hot,Yn=(i,...e)=>{mi()&&typeof console<"u"&&console[i](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var ir=new Map,nr={activated:!1,tokenObservers:[]},sr={initialized:!1,enabled:!1};function ce(i){return ir.get(i)||Object.assign({},nr)}function ns(){return sr}var or="https://content-firebaseappcheck.googleapis.com/v1";var rr="exchangeDebugToken",Xn={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},sc=24*60*60*1e3;var Mi=class{constructor(e,s,t,n,o){if(this.operation=e,this.retryPolicy=s,this.getWaitDuration=t,this.lowerBound=n,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=n,n>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return he(this,null,function*(){this.stop();try{this.pending=new bi,this.pending.promise.catch(s=>{}),yield ar(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bi,this.pending.promise.catch(s=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(s){this.retryPolicy(s)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let s=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),s}}};function ar(i){return new Promise(e=>{setTimeout(e,i)})}var lr={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Re=new $n("appCheck","AppCheck",lr);function ss(i){if(!ce(i).activated)throw Re.create("use-before-activation",{appName:i.name})}function os(t,n){return he(this,arguments,function*({url:i,body:e},s){let o={"Content-Type":"application/json"},l=s.getImmediate({optional:!0});if(l){let N=yield l.getHeartbeatsHeader();N&&(o["X-Firebase-Client"]=N)}let d={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(i,d)}catch(N){throw Re.create("fetch-network-error",{originalErrorMessage:N?.message})}if(u.status!==200)throw Re.create("fetch-status-error",{httpStatus:u.status});let y;try{y=yield u.json()}catch(N){throw Re.create("fetch-parse-error",{originalErrorMessage:N?.message})}let g=y.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Re.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});let S=Number(g[1])*1e3,H=Date.now();return{token:y.token,expireTimeMillis:H+S,issuedAtTimeMillis:H}})}function rs(i,e){let{projectId:s,appId:t,apiKey:n}=i.options;return{url:`${or}/projects/${s}/apps/${t}:${rr}?key=${n}`,body:{debug_token:e}}}var cr="firebase-app-check-database",dr=1,Oi="firebase-app-check-store";var Gt=null;function ur(){return Gt||(Gt=new Promise((i,e)=>{try{let s=indexedDB.open(cr,dr);s.onsuccess=t=>{i(t.target.result)},s.onerror=t=>{var n;e(Re.create("storage-open",{originalErrorMessage:(n=t.target.error)===null||n===void 0?void 0:n.message}))},s.onupgradeneeded=t=>{let n=t.target.result;switch(t.oldVersion){case 0:n.createObjectStore(Oi,{keyPath:"compositeKey"})}}}catch(s){e(Re.create("storage-open",{originalErrorMessage:s?.message}))}}),Gt)}function hr(i,e){return pr(fr(i),e)}function pr(i,e){return he(this,null,function*(){let t=(yield ur()).transaction(Oi,"readwrite"),o=t.objectStore(Oi).put({compositeKey:i,value:e});return new Promise((l,d)=>{o.onsuccess=u=>{l()},t.onerror=u=>{var y;d(Re.create("storage-set",{originalErrorMessage:(y=u.target.error)===null||y===void 0?void 0:y.message}))}})})}function fr(i){return`${i.options.appId}-${i.name}`}var Ri=new zn("@firebase/app-check");function Si(i,e){return Un()?hr(i,e).catch(s=>{Ri.warn(`Failed to write token to IndexedDB. Error: ${s}`)}):Promise.resolve()}function as(){return ns().enabled}function ls(){return he(this,null,function*(){let i=ns();if(i.enabled&&i.token)return i.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var mr={error:"UNKNOWN_ERROR"};function gr(i){return jn.encodeString(JSON.stringify(i),!1)}function Ai(i,e=!1){return he(this,null,function*(){let s=i.app;ss(s);let t=ce(s),n=t.token,o;if(n&&!ft(n)&&(t.token=void 0,n=void 0),!n){let u=yield t.cachedTokenPromise;u&&(ft(u)?n=u:yield Si(s,void 0))}if(!e&&n&&ft(n))return{token:n.token};let l=!1;if(as()){t.exchangeTokenPromise||(t.exchangeTokenPromise=os(rs(s,yield ls()),i.heartbeatServiceProvider).finally(()=>{t.exchangeTokenPromise=void 0}),l=!0);let u=yield t.exchangeTokenPromise;return yield Si(s,u),t.token=u,{token:u.token}}try{t.exchangeTokenPromise||(t.exchangeTokenPromise=t.provider.getToken().finally(()=>{t.exchangeTokenPromise=void 0}),l=!0),n=yield ce(s).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?Ri.warn(u.message):Ri.error(u),o=u}let d;return n?o?ft(n)?d={token:n.token,internalError:o}:d=ts(o):(d={token:n.token},t.token=n,yield Si(s,n)):d=ts(o),l&&br(s,d),d})}function _r(i){return he(this,null,function*(){let e=i.app;ss(e);let{provider:s}=ce(e);if(as()){let t=yield ls(),{token:n}=yield os(rs(e,t),i.heartbeatServiceProvider);return{token:n}}else{let{token:t}=yield s.getToken();return{token:t}}})}function vr(i,e,s,t){let{app:n}=i,o=ce(n),l={next:s,error:t,type:e};if(o.tokenObservers=[...o.tokenObservers,l],o.token&&ft(o.token)){let d=o.token;Promise.resolve().then(()=>{s({token:d.token}),es(i)}).catch(()=>{})}o.cachedTokenPromise.then(()=>es(i))}function cs(i,e){let s=ce(i),t=s.tokenObservers.filter(n=>n.next!==e);t.length===0&&s.tokenRefresher&&s.tokenRefresher.isRunning()&&s.tokenRefresher.stop(),s.tokenObservers=t}function es(i){let{app:e}=i,s=ce(e),t=s.tokenRefresher;t||(t=yr(i),s.tokenRefresher=t),!t.isRunning()&&s.isTokenAutoRefreshEnabled&&t.start()}function yr(i){let{app:e}=i;return new Mi(()=>he(this,null,function*(){let s=ce(e),t;if(s.token?t=yield Ai(i,!0):t=yield Ai(i),t.error)throw t.error;if(t.internalError)throw t.internalError}),()=>!0,()=>{let s=ce(e);if(s.token){let t=s.token.issuedAtTimeMillis+(s.token.expireTimeMillis-s.token.issuedAtTimeMillis)*.5+3e5,n=s.token.expireTimeMillis-5*60*1e3;return t=Math.min(t,n),Math.max(0,t-Date.now())}else return 0},Xn.RETRIAL_MIN_WAIT,Xn.RETRIAL_MAX_WAIT)}function br(i,e){let s=ce(i).tokenObservers;for(let t of s)try{t.type==="EXTERNAL"&&e.error!=null?t.error(e.error):t.next(e)}catch{}}function ft(i){return i.expireTimeMillis-Date.now()>0}function ts(i){return{token:gr(mr),error:i}}var ki=class{constructor(e,s){this.app=e,this.heartbeatServiceProvider=s}_delete(){let{tokenObservers:e}=ce(this.app);for(let s of e)cs(this.app,s.next);return Promise.resolve()}};function Cr(i,e){return new ki(i,e)}function Er(i){return{getToken:e=>Ai(i,e),getLimitedUseToken:()=>_r(i),addTokenListener:e=>vr(i,"INTERNAL",e),removeTokenListener:e=>cs(i.app,e)}}var Tr="@firebase/app-check",wr="0.8.2";var Dr="app-check",is="app-check-internal";function Sr(){Ei(new Ci(Dr,i=>{let e=i.getProvider("app").getImmediate(),s=i.getProvider("heartbeat");return Cr(e,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,s)=>{i.getProvider(is).initialize()})),Ei(new Ci(is,i=>{let e=i.getProvider("app-check").getImmediate();return Er(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ut(Tr,wr)}Sr();var Mr=["localhost","0.0.0.0","127.0.0.1"],gc=typeof window<"u"&&Mr.includes(window.location.hostname);var Rr=new B("angularfire2.auth.use-emulator"),Ar=new B("angularfire2.auth.settings"),kr=new B("angularfire2.auth.tenant-id"),Nr=new B("angularfire2.auth.langugage-code"),xr=new B("angularfire2.auth.use-device-language"),Ir=new B("angularfire.auth.persistence"),Fr=(i,e,s,t,n,o,l,d)=>Zn(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{let u=e.runOutsideAngular(()=>i.auth());if(s&&u.useEmulator(...s),t&&(u.tenantId=t),u.languageCode=n,o&&u.useDeviceLanguage(),l)for(let[y,g]of Object.entries(l))u.settings[y]=g;return d&&u.setPersistence(d),u},[s,t,n,o,l,d]),Te=(()=>{class i{authState;idToken;user;idTokenResult;credential;constructor(s,t,n,o,l,d,u,y,g,S,H,N){let De=new V,ae=Ce(void 0).pipe(Ie(l.outsideAngular),ie(()=>o.runOutsideAngular(()=>import("./chunk-6LCSHU7Y.mjs"))),J(()=>Di(s,o,t)),J($=>Fr($,o,d,y,g,S,u,H)),ci({bufferSize:1,refCount:!1}));if(Nn(n))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ce(null);else{ae.pipe(mn()).subscribe();let $=ae.pipe(ie(j=>j.getRedirectResult().then(be=>be,()=>null)),Jn,ci({bufferSize:1,refCount:!1})),Se=ae.pipe(ie(j=>new ze(be=>({unsubscribe:o.runOutsideAngular(()=>j.onAuthStateChanged(xe=>be.next(xe),xe=>be.error(xe),()=>be.complete()))})))),ri=ae.pipe(ie(j=>new ze(be=>({unsubscribe:o.runOutsideAngular(()=>j.onIdTokenChanged(xe=>be.next(xe),xe=>be.error(xe),()=>be.complete()))}))));this.authState=$.pipe(di(Se),We(l.outsideAngular),Ie(l.insideAngular)),this.user=$.pipe(di(ri),We(l.outsideAngular),Ie(l.insideAngular)),this.idToken=this.user.pipe(ie(j=>j?at(j.getIdToken()):Ce(null))),this.idTokenResult=this.user.pipe(ie(j=>j?at(j.getIdTokenResult()):Ce(null))),this.credential=li($,De,this.authState.pipe(Fe(j=>!j))).pipe(J(j=>j?.user?j:null),We(l.outsideAngular),Ie(l.insideAngular))}return qn(this,ae,o,{spy:{apply:($,Se,ri)=>{($.startsWith("signIn")||$.startsWith("createUser"))&&ri.then(j=>De.next(j))}}})}static \u0275fac=function(t){return new(t||i)(R(Bt),R(Vt,8),R(lt),R(X),R(Kn),R(Rr,8),R(Ar,8),R(kr,8),R(Nr,8),R(xr,8),R(Ir,8),R(ht,8))};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),ds=(()=>{class i{constructor(){ne.registerVersion("angularfire",pt.full,"auth-compat")}static \u0275fac=function(t){return new(t||i)};static \u0275mod=C({type:i});static \u0275inj=b({providers:[Te]})}return i})();var us=an(Ii());var L={firebase:{apiKey:"AIzaSyCOLnzbKj3jLcoGhK8uRYRmxCHg9GvZB7w",authDomain:"e-key-manager.firebaseapp.com",projectId:"e-key-manager",storageBucket:"e-key-manager.appspot.com",messagingSenderId:"273230822093",appId:"1:273230822093:web:b5f68a02d243b96d390784"},URL:"https://admin.ekey.fsrfb4.de",REST_URL:"https://admin.ekey.fsrfb4.de/api/v1",VERTRAG_URL:"https://admin.ekey.fsrfb4.de/vertragdruck"};var hs=(()=>{let e=class e{constructor(t){this.http=t,this.ROOT_URL=L.REST_URL+"/ekeys/",this.tresorKeycount=0,this.gesperrtTresorKeycount=0,this.ausgegebenKeycount=0,this.gesamtworkingKeycount=0}ngOnInit(){this.http.get(this.ROOT_URL+"/count?zustand=funktioniert&besitzer=FSR").subscribe({next:t=>{this.tresorKeycount=t}}),this.http.get(this.ROOT_URL+"/count?zustand=funktioniert&besitzer=Student").subscribe({next:t=>{this.ausgegebenKeycount=t}}),this.http.get(this.ROOT_URL+"/count?zustand=funktioniert").subscribe({next:t=>{this.gesamtworkingKeycount=t}}),this.http.get(this.ROOT_URL+"/count?zustand=gesperrt&besitzer=FSR").subscribe({next:t=>{this.gesperrtTresorKeycount=t}})}listeGenerieren(){this.http.get(this.ROOT_URL+"?zustand=gesperrt&besitzer=FSR").subscribe({next:t=>{let n="";t.forEach(l=>{n+=l.ekeyid+`
`});let o=new Blob([n],{type:"text/plain;charset=utf-8"});(0,us.saveAs)(o,"zuentsperren.csv")}})}};e.\u0275fac=function(n){return new(n||e)(p(U))},e.\u0275cmp=M({type:e,selectors:[["app-dashboard"]],decls:37,vars:4,consts:[[1,"d-flex","flex-row","flex-wrap","justify-content-around","row-gap-2","mb-2","pt-5"],[1,"card","d-flex","justify-content-center","align-items-center",2,"width","18rem"],[1,"bi","bi-safe",2,"font-size","5rem"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["href","/ausleihe",1,"btn","btn-primary"],[1,"bi","bi-person-fill",2,"font-size","5rem"],["href","/r\xFCckgabe",1,"btn","btn-primary"],[1,"bi","bi-key-fill",2,"font-size","5rem"],["href","/ekey-list",1,"btn","btn-primary"],[1,"bi","bi-arrow-counterclockwise",2,"font-size","5rem"],[1,"btn","btn-primary",3,"click"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1),f(2,"i",2),r(3,"div",3)(4,"h5",4),c(5),a(),r(6,"p",5),c(7,"Diese Keys k\xF6nen ausgegeben werden"),a(),r(8,"a",6),c(9,"Ausleihe starten"),a()()(),r(10,"div",1),f(11,"i",7),r(12,"div",3)(13,"h5",4),c(14),a(),r(15,"p",5),c(16,"Will jemand einen davon zur\xFCck geben?"),a(),r(17,"a",8),c(18,"R\xFCckgabe starten"),a()()(),r(19,"div",1),f(20,"i",9),r(21,"div",3)(22,"h5",4),c(23),a(),r(24,"p",5),c(25,"So viele Funktionierende E-Keys besitzt der FSR"),a(),r(26,"a",10),c(27,"Zur \xDCbersicht"),a()()(),r(28,"div",1),f(29,"i",11),r(30,"div",3)(31,"h5",4),c(32),a(),r(33,"p",5),c(34,"Diese Keys k\xF6nnten entsperrt werden (bei so ca.20 lohnt es sich)"),a(),r(35,"button",12),v("click",function(){return o.listeGenerieren()}),c(36,"Liste generieren"),a()()()()),n&2&&(h(5),K("Aktuell im Tresor: ",o.tresorKeycount,""),h(9),K("Aktuell ausgegeben: ",o.ausgegebenKeycount,""),h(9),K("Funktionierend: ",o.gesamtworkingKeycount,""),h(9),K("Gesperrte Keys: ",o.gesperrtTresorKeycount,""))}});let i=e;return i})();var mt=class{constructor(e,s,t,n,o,l,d,u){this.ausleihnr=e,this.matrnr=s,this.ekeyid=t,this.beginn=n,this.ende=d??null,this.notiz=l??null,this.hat_studienbescheinigung=o,this.letztemeldung=u??null}};var Es=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(p(Je),p(me))},e.\u0275dir=I({type:e});let i=e;return i})(),Yt=(()=>{let e=class e extends Es{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Me(e)))(o||e)}})(),e.\u0275dir=I({type:e,features:[z]});let i=e;return i})(),tt=new B("");var Pr={provide:tt,useExisting:Z(()=>q),multi:!0};function Br(){let i=gi()?gi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Vr=new B(""),q=(()=>{let e=class e extends Es{constructor(t,n,o){super(t,n),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Br())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(p(Je),p(me),p(Vr,8))},e.\u0275dir=I({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&v("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[te([Pr]),z]});let i=e;return i})();function ke(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Ts(i){return i!=null&&typeof i.length=="number"}var He=new B(""),qt=new B(""),Gr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,w=class{static min(e){return Lr(e)}static max(e){return Hr(e)}static required(e){return ws(e)}static requiredTrue(e){return jr(e)}static email(e){return Ds(e)}static minLength(e){return Ss(e)}static maxLength(e){return Ur(e)}static pattern(e){return $r(e)}static nullValidator(e){return jt(e)}static compose(e){return Ns(e)}static composeAsync(e){return xs(e)}};function Lr(i){return e=>{if(ke(e.value)||ke(i))return null;let s=parseFloat(e.value);return!isNaN(s)&&s<i?{min:{min:i,actual:e.value}}:null}}function Hr(i){return e=>{if(ke(e.value)||ke(i))return null;let s=parseFloat(e.value);return!isNaN(s)&&s>i?{max:{max:i,actual:e.value}}:null}}function ws(i){return ke(i.value)?{required:!0}:null}function jr(i){return i.value===!0?null:{required:!0}}function Ds(i){return ke(i.value)||Gr.test(i.value)?null:{email:!0}}function Ss(i){return e=>ke(e.value)||!Ts(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function Ur(i){return e=>Ts(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function $r(i){if(!i)return jt;let e,s;return typeof i=="string"?(s="",i.charAt(0)!=="^"&&(s+="^"),s+=i,i.charAt(i.length-1)!=="$"&&(s+="$"),e=new RegExp(s)):(s=i.toString(),e=i),t=>{if(ke(t.value))return null;let n=t.value;return e.test(n)?null:{pattern:{requiredPattern:s,actualValue:n}}}}function jt(i){return null}function Ms(i){return i!=null}function Os(i){return Rn(i)?at(i):i}function Rs(i){let e={};return i.forEach(s=>{e=s!=null?x(x({},e),s):e}),Object.keys(e).length===0?null:e}function As(i,e){return e.map(s=>s(i))}function zr(i){return!i.validate}function ks(i){return i.map(e=>zr(e)?e:s=>e.validate(s))}function Ns(i){if(!i)return null;let e=i.filter(Ms);return e.length==0?null:function(s){return Rs(As(s,e))}}function Vi(i){return i!=null?Ns(ks(i)):null}function xs(i){if(!i)return null;let e=i.filter(Ms);return e.length==0?null:function(s){let t=As(s,e).map(Os);return un(t).pipe(J(Rs))}}function Gi(i){return i!=null?xs(ks(i)):null}function ps(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Is(i){return i._rawValidators}function Fs(i){return i._rawAsyncValidators}function Fi(i){return i?Array.isArray(i)?i:[i]:[]}function Ut(i,e){return Array.isArray(i)?i.includes(e):i===e}function fs(i,e){let s=Fi(e);return Fi(i).forEach(n=>{Ut(s,n)||s.push(n)}),s}function ms(i,e){return Fi(e).filter(s=>!Ut(i,s))}var $t=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,s){return this.control?this.control.hasError(e,s):!1}getError(e,s){return this.control?this.control.getError(e,s):null}},we=class extends $t{get formDirective(){return null}get path(){return null}},Ne=class extends $t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zt=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Wr={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Qc=W(x({},Wr),{"[class.ng-submitted]":"isSubmitted"}),se=(()=>{let e=class e extends zt{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(p(Ne,2))},e.\u0275dir=I({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&qe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[z]});let i=e;return i})(),oe=(()=>{let e=class e extends zt{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(p(we,10))},e.\u0275dir=I({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){n&2&&qe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[z]});let i=e;return i})();var gt="VALID",Ht="INVALID",Xe="PENDING",_t="DISABLED";function Li(i){return(Qt(i)?i.validators:i)||null}function Kr(i){return Array.isArray(i)?Vi(i):i||null}function Hi(i,e){return(Qt(e)?e.asyncValidators:i)||null}function Jr(i){return Array.isArray(i)?Gi(i):i||null}function Qt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Ps(i,e,s){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new Dt(1e3,"");if(!t[s])throw new Dt(1001,"")}function Bs(i,e,s){i._forEachChild((t,n)=>{if(s[n]===void 0)throw new Dt(1002,"")})}var et=class{constructor(e,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gt}get invalid(){return this.status===Ht}get pending(){return this.status==Xe}get disabled(){return this.status===_t}get enabled(){return this.status!==_t}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ms(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ms(e,this._rawAsyncValidators))}hasValidator(e){return Ut(this._rawValidators,e)}hasAsyncValidator(e){return Ut(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xe,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let s=this._parentMarkedDirty(e.onlySelf);this.status=_t,this.errors=null,this._forEachChild(t=>{t.disable(W(x({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(x({},e),{skipPristineCheck:s})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let s=this._parentMarkedDirty(e.onlySelf);this.status=gt,this._forEachChild(t=>{t.enable(W(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(x({},e),{skipPristineCheck:s})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gt||this.status===Xe)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_t:gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xe,this._hasOwnPendingAsyncValidator=!0;let s=Os(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,s={}){this.errors=e,this._updateControlsErrors(s.emitEvent!==!1)}get(e){let s=e;return s==null||(Array.isArray(s)||(s=s.split(".")),s.length===0)?null:s.reduce((t,n)=>t&&t._find(n),this)}getError(e,s){let t=s?this.get(s):this;return t&&t.errors?t.errors[e]:null}hasError(e,s){return!!this.getError(e,s)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?_t:this.errors?Ht:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xe)?Xe:this._anyControlsHaveStatus(Ht)?Ht:gt}_anyControlsHaveStatus(e){return this._anyControls(s=>s.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let s=this._parent&&this._parent.dirty;return!e&&!!s&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Kr(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Jr(this._rawAsyncValidators)}},Y=class extends et{constructor(e,s,t){super(Li(s),Hi(t,s)),this.controls=e,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,s){return this.controls[e]?this.controls[e]:(this.controls[e]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(e,s,t={}){this.registerControl(e,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(e,s,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],s&&this.registerControl(e,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,s={}){Bs(this,!0,e),Object.keys(e).forEach(t=>{Ps(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(e,s={}){e!=null&&(Object.keys(e).forEach(t=>{let n=this.controls[t];n&&n.patchValue(e[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(e={},s={}){this._forEachChild((t,n)=>{t.reset(e?e[n]:null,{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(e,s,t)=>(e[t]=s.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(s,t)=>t._syncPendingControls()?!0:s);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(s=>{let t=this.controls[s];t&&e(t,s)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[s,t]of Object.entries(this.controls))if(this.contains(s)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(s,t,n)=>((t.enabled||this.disabled)&&(s[n]=t.value),s))}_reduceChildren(e,s){let t=e;return this._forEachChild((n,o)=>{t=s(t,n,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Pi=class extends Y{};var it=new B("CallSetDisabledState",{providedIn:"root",factory:()=>yt}),yt="always";function Vs(i,e){return[...e.path,i]}function Wt(i,e,s=yt){ji(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||s==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),qr(i,e),Zr(i,e),Qr(i,e),Yr(i,e)}function gs(i,e,s=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Jt(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Kt(i,e){i.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(e)})}function Yr(i,e){if(e.valueAccessor.setDisabledState){let s=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(s),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(s)})}}function ji(i,e){let s=Is(i);e.validator!==null?i.setValidators(ps(s,e.validator)):typeof s=="function"&&i.setValidators([s]);let t=Fs(i);e.asyncValidator!==null?i.setAsyncValidators(ps(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();Kt(e._rawValidators,n),Kt(e._rawAsyncValidators,n)}function Jt(i,e){let s=!1;if(i!==null){if(e.validator!==null){let n=Is(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(l=>l!==e.validator);o.length!==n.length&&(s=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let n=Fs(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(l=>l!==e.asyncValidator);o.length!==n.length&&(s=!0,i.setAsyncValidators(o))}}}let t=()=>{};return Kt(e._rawValidators,t),Kt(e._rawAsyncValidators,t),s}function qr(i,e){e.valueAccessor.registerOnChange(s=>{i._pendingValue=s,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Gs(i,e)})}function Qr(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Gs(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Gs(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Zr(i,e){let s=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(s),e._registerOnDestroy(()=>{i._unregisterOnChange(s)})}function Ls(i,e){i==null,ji(i,e)}function Xr(i,e){return Jt(i,e)}function Hs(i,e){if(!i.hasOwnProperty("model"))return!1;let s=i.model;return s.isFirstChange()?!0:!Object.is(e,s.currentValue)}function ea(i){return Object.getPrototypeOf(i.constructor)===Yt}function js(i,e){i._syncPendingControls(),e.forEach(s=>{let t=s.control;t.updateOn==="submit"&&t._pendingChange&&(s.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Us(i,e){if(!e)return null;Array.isArray(e);let s,t,n;return e.forEach(o=>{o.constructor===q?s=o:ea(o)?t=o:n=o}),n||t||s||null}function ta(i,e){let s=i.indexOf(e);s>-1&&i.splice(s,1)}var ia={provide:we,useExisting:Z(()=>Ui)},vt=Promise.resolve(),Ui=(()=>{let e=class e extends we{constructor(t,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ge,this.form=new Y({},Vi(t),Gi(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vt.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Wt(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vt.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vt.then(()=>{let n=this._findContainer(t.path),o=new Y({});Ls(o,t),n.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vt.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){vt.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,js(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(n){return new(n||e)(p(He,10),p(qt,10),p(it,8))},e.\u0275dir=I({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){n&1&&v("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{options:[pe.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[te([ia]),z]});let i=e;return i})();function _s(i,e){let s=i.indexOf(e);s>-1&&i.splice(s,1)}function vs(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var G=class extends et{constructor(e=null,s,t){super(Li(s),Hi(t,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qt(s)&&(s.nonNullable||s.initialValueIsDefault)&&(vs(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,s={}){this.value=this._pendingValue=e,this._onChange.length&&s.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,s.emitViewToModelChange!==!1)),this.updateValueAndValidity(s)}patchValue(e,s={}){this.setValue(e,s)}reset(e=this.defaultValue,s={}){this._applyFormState(e),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_s(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_s(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vs(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var na=i=>i instanceof G;var sa={provide:Ne,useExisting:Z(()=>$i)},ys=Promise.resolve(),$i=(()=>{let e=class e extends Ne{constructor(t,n,o,l,d,u){super(),this._changeDetectorRef=d,this.callSetDisabledState=u,this.control=new G,this._registered=!1,this.name="",this.update=new ge,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Us(this,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Hs(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Wt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ys.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,o=n!==0&&Rt(n);ys.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Vs(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(p(we,9),p(He,10),p(qt,10),p(tt,10),p(Ot,8),p(it,8))},e.\u0275dir=I({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[pe.None,"disabled","isDisabled"],model:[pe.None,"ngModel","model"],options:[pe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[te([sa]),z,Ke]});let i=e;return i})(),re=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=I({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var oa={provide:tt,useExisting:Z(()=>zi),multi:!0};var ra=(()=>{let e=class e{constructor(){this._accessors=[]}add(t,n){this._accessors.push([t,n])}remove(t){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===t){this._accessors.splice(n,1);return}}select(t){this._accessors.forEach(n=>{this._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}_isSameGroup(t,n){return t[0].control?t[0]._parent===n._control._parent&&t[1].name===n.name:!1}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),zi=(()=>{let e=class e extends Yt{constructor(t,n,o,l){super(t,n),this._registry=o,this._injector=l,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=D(it,{optional:!0})??yt}ngOnInit(){this._control=this._injector.get(Ne),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(n){return new(n||e)(p(Je),p(me),p(ra),p(fe))},e.\u0275dir=I({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,o){n&1&&v("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[te([oa]),z]});let i=e;return i})();var $s=new B("");var aa={provide:we,useExisting:Z(()=>de)},de=(()=>{let e=class e extends we{constructor(t,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ge,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let n=this.form.get(t.path);return Wt(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){gs(t.control||null,t,!1),ta(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,js(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let n=t.control,o=this.form.get(t.path);n!==o&&(gs(n||null,t),na(o)&&(Wt(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let n=this.form.get(t.path);Ls(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let n=this.form.get(t.path);n&&Xr(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ji(this.form,this),this._oldForm&&Jt(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(n){return new(n||e)(p(He,10),p(qt,10),p(it,8))},e.\u0275dir=I({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){n&1&&v("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:[pe.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[te([aa]),z,Ke]});let i=e;return i})();var la={provide:Ne,useExisting:Z(()=>ue)},ue=(()=>{let e=class e extends Ne{set isDisabled(t){}constructor(t,n,o,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new ge,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Us(this,l)}ngOnChanges(t){this._added||this._setUpControl(),Hs(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Vs(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(p(we,13),p(He,10),p(qt,10),p(tt,10),p($s,8))},e.\u0275dir=I({type:e,selectors:[["","formControlName",""]],inputs:{name:[pe.None,"formControlName","name"],isDisabled:[pe.None,"disabled","isDisabled"],model:[pe.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[te([la]),z,Ke]});let i=e;return i})(),ca={provide:tt,useExisting:Z(()=>nt),multi:!0};function zs(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function da(i){return i.split(":")[0]}var nt=(()=>{let e=class e extends Yt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n=this._getOptionId(t),o=zs(n,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=n=>{this.value=this._getOptionValue(n),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),t))return n;return null}_getOptionValue(t){let n=da(t);return this._optionMap.has(n)?this._optionMap.get(n):t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Me(e)))(o||e)}})(),e.\u0275dir=I({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,o){n&1&&v("change",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[te([ca]),z]});let i=e;return i})(),Zt=(()=>{let e=class e{constructor(t,n,o){this._element=t,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(zs(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(p(me),p(Je),p(nt,9))},e.\u0275dir=I({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})(),ua={provide:tt,useExisting:Z(()=>Ws),multi:!0};function bs(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function ha(i){return i.split(":")[0]}var Ws=(()=>{let e=class e extends Yt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n;if(Array.isArray(t)){let o=t.map(l=>this._getOptionId(l));n=(l,d)=>{l._setSelected(o.indexOf(d.toString())>-1)}}else n=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(t){this.onChange=n=>{let o=[],l=n.selectedOptions;if(l!==void 0){let d=l;for(let u=0;u<d.length;u++){let y=d[u],g=this._getOptionValue(y.value);o.push(g)}}else{let d=n.options;for(let u=0;u<d.length;u++){let y=d[u];if(y.selected){let g=this._getOptionValue(y.value);o.push(g)}}}this.value=o,t(o)}}_registerOption(t){let n=(this._idCounter++).toString();return this._optionMap.set(n,t),n}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,t))return n;return null}_getOptionValue(t){let n=ha(t);return this._optionMap.has(n)?this._optionMap.get(n)._value:t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Me(e)))(o||e)}})(),e.\u0275dir=I({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,o){n&1&&v("change",function(d){return o.onChange(d.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[te([ua]),z]});let i=e;return i})(),Xt=(()=>{let e=class e{constructor(t,n,o){this._element=t,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(bs(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bs(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(p(me),p(Je),p(Ws,9))},e.\u0275dir=I({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})();function pa(i){return typeof i=="number"?i:parseInt(i,10)}var Wi=(()=>{let e=class e{constructor(){this._validator=jt}ngOnChanges(t){if(this.inputName in t){let n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):jt,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=I({type:e,features:[Ke]});let i=e;return i})();var fa={provide:He,useExisting:Z(()=>bt),multi:!0};var bt=(()=>{let e=class e extends Wi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Rt,this.createValidator=t=>ws}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Me(e)))(o||e)}})(),e.\u0275dir=I({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,o){n&2&&_e("required",o._enabled?"":null)},inputs:{required:"required"},features:[te([fa]),z]});let i=e;return i})();var ma={provide:He,useExisting:Z(()=>Ki),multi:!0},Ki=(()=>{let e=class e extends Wi{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Rt,this.createValidator=t=>Ds}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Me(e)))(o||e)}})(),e.\u0275dir=I({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[te([ma]),z]});let i=e;return i})(),ga={provide:He,useExisting:Z(()=>Ji),multi:!0},Ji=(()=>{let e=class e extends Wi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>pa(t),this.createValidator=t=>Ss(t)}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Me(e)))(o||e)}})(),e.\u0275dir=I({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){n&2&&_e("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[te([ga]),z]});let i=e;return i})();var Ks=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})(),Bi=class extends et{constructor(e,s,t){super(Li(s),Hi(t,s)),this.controls=e,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,s={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}insert(e,s,t={}){this.controls.splice(e,0,s),this._registerControl(s),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,s={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:s.emitEvent})}setControl(e,s,t={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),s&&(this.controls.splice(n,0,s),this._registerControl(s)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,s={}){Bs(this,!1,e),e.forEach((t,n)=>{Ps(this,!1,n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(e,s={}){e!=null&&(e.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(e=[],s={}){this._forEachChild((t,n)=>{t.reset(e[n],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(s=>s._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((s,t)=>t._syncPendingControls()?!0:s,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((s,t)=>{e(s,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(s=>s.enabled&&e(s))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Cs(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Js=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,n=null){let o=this._reduceControls(t),l={};return Cs(n)?l=n:n!==null&&(l.validators=n.validator,l.asyncValidators=n.asyncValidator),new Y(o,l)}record(t,n=null){let o=this._reduceControls(t);return new Pi(o,n)}control(t,n,o){let l={};return this.useNonNullable?(Cs(n)?l=n:(l.validators=n,l.asyncValidators=o),new G(t,W(x({},l),{nonNullable:!0}))):new G(t,n,o)}array(t,n,o){let l=t.map(d=>this._createControl(d));return new Bi(l,n,o)}_reduceControls(t){let n={};return Object.keys(t).forEach(o=>{n[o]=this._createControl(t[o])}),n}_createControl(t){if(t instanceof G)return t;if(t instanceof et)return t;if(Array.isArray(t)){let n=t[0],o=t.length>1?t[1]:null,l=t.length>2?t[2]:null;return this.control(n,o,l)}else return this.control(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ys=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:it,useValue:t.callSetDisabledState??yt}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({imports:[Ks]});let i=e;return i})(),qs=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:$s,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:it,useValue:t.callSetDisabledState??yt}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({imports:[Ks]});let i=e;return i})();var Qs=["toast-component",""];function _a(i,e){if(i&1){let s=k();r(0,"button",5),v("click",function(){E(s);let n=_();return T(n.remove())}),r(1,"span",6),c(2,"\xD7"),a()()}}function va(i,e){if(i&1&&(St(0),c(1),Mt()),i&2){let s=_(2);h(),K("[",s.duplicatesCount+1,"]")}}function ya(i,e){if(i&1&&(r(0,"div"),c(1),A(2,va,2,1,"ng-container",4),a()),i&2){let s=_();ee(s.options.titleClass),_e("aria-label",s.title),h(),K(" ",s.title," "),h(),m("ngIf",s.duplicatesCount)}}function ba(i,e){if(i&1&&f(0,"div",7),i&2){let s=_();ee(s.options.messageClass),m("innerHTML",s.message,pi)}}function Ca(i,e){if(i&1&&(r(0,"div",8),c(1),a()),i&2){let s=_();ee(s.options.messageClass),_e("aria-label",s.message),h(),K(" ",s.message," ")}}function Ea(i,e){if(i&1&&(r(0,"div"),f(1,"div",9),a()),i&2){let s=_();h(),Ye("width",s.width+"%")}}function Ta(i,e){if(i&1){let s=k();r(0,"button",5),v("click",function(){E(s);let n=_();return T(n.remove())}),r(1,"span",6),c(2,"\xD7"),a()()}}function wa(i,e){if(i&1&&(St(0),c(1),Mt()),i&2){let s=_(2);h(),K("[",s.duplicatesCount+1,"]")}}function Da(i,e){if(i&1&&(r(0,"div"),c(1),A(2,wa,2,1,"ng-container",4),a()),i&2){let s=_();ee(s.options.titleClass),_e("aria-label",s.title),h(),K(" ",s.title," "),h(),m("ngIf",s.duplicatesCount)}}function Sa(i,e){if(i&1&&f(0,"div",7),i&2){let s=_();ee(s.options.messageClass),m("innerHTML",s.message,pi)}}function Ma(i,e){if(i&1&&(r(0,"div",8),c(1),a()),i&2){let s=_();ee(s.options.messageClass),_e("aria-label",s.message),h(),K(" ",s.message," ")}}function Oa(i,e){if(i&1&&(r(0,"div"),f(1,"div",9),a()),i&2){let s=_();h(),Ye("width",s.width+"%")}}var Yi=class{_attachedHost;component;viewContainerRef;injector;constructor(e,s){this.component=e,this.injector=s}attach(e,s){return this._attachedHost=e,e.attach(this,s)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},qi=class{_attachedPortal;_disposeFn;attach(e,s){return this._attachedPortal=e,this.attachComponentPortal(e,s)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},Qi=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new V;_activate=new V;_manualClose=new V;_resetTimeout=new V;_countDuplicate=new V;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,s){e&&this._resetTimeout.next(),s&&this._countDuplicate.next(++this.duplicatesCount)}},ot=class{toastId;config;message;title;toastType;toastRef;_onTap=new V;_onAction=new V;constructor(e,s,t,n,o,l){this.toastId=e,this.config=s,this.message=t,this.title=n,this.toastType=o,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},Zs={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Xs=new B("ToastConfig"),Zi=class extends qi{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,s,t){super(),this._hostDomElement=e,this._componentFactoryResolver=s,this._appRef=t}attachComponentPortal(e,s){let t=this._componentFactoryResolver.resolveComponentFactory(e.component),n;return n=t.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),s?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},Ra=(()=>{class i{_document=D(Le);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let s=this._document.createElement("div");s.classList.add("overlay-container"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),this._containerElement=s}static \u0275fac=function(t){return new(t||i)};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Xi=class{_portalHost;constructor(e){this._portalHost=e}attach(e,s=!0){return this._portalHost.attach(e,s)}detach(){return this._portalHost.detach()}},Aa=(()=>{class i{_overlayContainer=D(Ra);_componentFactoryResolver=D(bn);_appRef=D(Ze);_document=D(Le);_paneElements=new Map;create(s,t){return this._createOverlayRef(this.getPaneElement(s,t))}getPaneElement(s="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[s]||(this._paneElements.get(t)[s]=this._createPaneElement(s,t)),this._paneElements.get(t)[s]}_createPaneElement(s,t){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(s),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(s){return new Zi(s,this._componentFactoryResolver,this._appRef)}_createOverlayRef(s){return new Xi(this._createPortalHost(s))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ye=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(s,t,n,o,l){this.overlay=t,this._injector=n,this.sanitizer=o,this.ngZone=l,this.toastrConfig=x(x({},s.default),s.config),s.config.iconClasses&&(this.toastrConfig.iconClasses=x(x({},s.default.iconClasses),s.config.iconClasses))}show(s,t,n={},o=""){return this._preBuildNotification(o,s,t,this.applyConfig(n))}success(s,t,n={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,s,t,this.applyConfig(n))}error(s,t,n={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,s,t,this.applyConfig(n))}info(s,t,n={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,s,t,this.applyConfig(n))}warning(s,t,n={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,s,t,this.applyConfig(n))}clear(s){for(let t of this.toasts)if(s!==void 0){if(t.toastId===s){t.toastRef.manualClose();return}}else t.toastRef.manualClose()}remove(s){let t=this._findToast(s);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(s="",t="",n,o){let{includeTitleDuplicates:l}=this.toastrConfig;for(let d of this.toasts){let u=l&&d.title===s;if((!l||u)&&d.message===t)return d.toastRef.onDuplicate(n,o),d}return null}applyConfig(s={}){return x(x({},this.toastrConfig),s)}_findToast(s){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===s)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(s,t,n,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(s,t,n,o)):this._buildNotification(s,t,n,o)}_buildNotification(s,t,n,o){if(!o.toastComponent)throw new Error("toastComponent required");let l=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&l!==null)return l;this.previousToastMessage=t;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let u=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let y=t;t&&o.enableHtml&&(y=this.sanitizer.sanitize(vn.HTML,t));let g=new Qi(u),S=new ot(this.index,o,y,n,s,g),H=[{provide:ot,useValue:S}],N=fe.create({providers:H,parent:this._injector}),De=new Yi(o.toastComponent,N),ae=u.attach(De,o.newestOnTop);g.componentInstance=ae.instance;let $={toastId:this.index,title:n||"",message:t||"",toastRef:g,onShown:g.afterActivate(),onHidden:g.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:ae};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{$.toastRef.activate()})),this.toasts.push($),$}static \u0275fac=function(t){return new(t||i)(R(Xs),R(Aa),R(fe),R(Pn),R(X))};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ka=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(s,t,n){this.toastrService=s,this.toastPackage=t,this.ngZone=n,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=W(x({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let s=new Date().getTime(),t=this.hideTime-s;this.width=t/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=W(x({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=W(x({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(s,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(s),t)):this.timeout=setTimeout(()=>s(),t)}outsideInterval(s,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(s),t)):this.intervalId=setInterval(()=>s(),t)}runInsideAngular(s){this.ngZone?this.ngZone.run(()=>s()):s()}static \u0275fac=function(t){return new(t||i)(p(ye),p(ot),p(X))};static \u0275cmp=M({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,n){t&1&&v("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),t&2&&(Cn("@flyInOut",n.state),ee(n.toastClasses),Ye("display",n.displayStyle))},standalone:!0,features:[Qe],attrs:Qs,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,n){t&1&&A(0,_a,3,0,"button",0)(1,ya,3,5,"div",1)(2,ba,1,3,"div",2)(3,Ca,2,4,"div",3)(4,Ea,2,2,"div",4),t&2&&(m("ngIf",n.options.closeButton),h(),m("ngIf",n.title),h(),m("ngIf",n.message&&n.options.enableHtml),h(),m("ngIf",n.message&&!n.options.enableHtml),h(),m("ngIf",n.options.progressBar))},dependencies:[le],encapsulation:2,data:{animation:[Vn("flyInOut",[It("inactive",xt({opacity:0})),It("active",xt({opacity:1})),It("removed",xt({opacity:0})),vi("inactive => active",_i("{{ easeTime }}ms {{ easing }}")),vi("active => removed",_i("{{ easeTime }}ms {{ easing }}"))])]}})}return i})(),Na=W(x({},Zs),{toastComponent:ka}),xa=(i={})=>_n([{provide:Xs,useValue:{default:Na,config:i}}]),eo=(()=>{class i{static forRoot(s={}){return{ngModule:i,providers:[xa(s)]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=C({type:i});static \u0275inj=b({})}return i})();var Ia=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(s,t,n){this.toastrService=s,this.toastPackage=t,this.appRef=n,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let s=new Date().getTime(),t=this.hideTime-s;this.width=t/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(t){return new(t||i)(p(ye),p(ot),p(Ze))};static \u0275cmp=M({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,n){t&1&&v("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),t&2&&(ee(n.toastClasses),Ye("display",n.displayStyle))},standalone:!0,features:[Qe],attrs:Qs,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,n){t&1&&A(0,Ta,3,0,"button",0)(1,Da,3,5,"div",1)(2,Sa,1,3,"div",2)(3,Ma,2,4,"div",3)(4,Oa,2,2,"div",4),t&2&&(m("ngIf",n.options.closeButton),h(),m("ngIf",n.title),h(),m("ngIf",n.message&&n.options.enableHtml),h(),m("ngIf",n.message&&!n.options.enableHtml),h(),m("ngIf",n.options.progressBar))},dependencies:[le],encapsulation:2})}return i})(),hd=W(x({},Zs),{toastComponent:Ia});var Ct=i=>({"is-invalid":i});function Fa(i,e){i&1&&(r(0,"div",20),c(1," vorname.nachname000 "),a())}function Pa(i,e){i&1&&(r(0,"div",20),c(1," 7 Zahlen "),a())}function Ba(i,e){if(i&1){let s=k();r(0,"form",6,0),v("ngSubmit",function(){E(s);let n=_();return T(n.onStudentsubmit())}),r(2,"div",7)(3,"div",8)(4,"span",9),f(5,"i",10),a(),r(6,"div",11),f(7,"input",12),r(8,"label"),c(9,"Vorname"),a()()(),f(10,"br"),r(11,"div",8)(12,"span",9),f(13,"i",10),a(),r(14,"div",11),f(15,"input",13),r(16,"label"),c(17,"Nachname"),a()()(),f(18,"br"),r(19,"div")(20,"div",8)(21,"span",9),f(22,"i",14),a(),r(23,"div",11),f(24,"input",15),r(25,"label"),c(26,"E-Mail"),a()(),r(27,"span",9),c(28,"@stud.fh-dortmund.de"),a(),A(29,Fa,2,0,"div",16),a()(),f(30,"br"),r(31,"div",8)(32,"span",9),f(33,"i",17),a(),r(34,"div",11),f(35,"input",18),r(36,"label"),c(37,"Matrikelnummer"),a()(),A(38,Pa,2,0,"div",16),a(),r(39,"button",19),c(40," Ausleihe beginnen"),a()()()}if(i&2){let s=_();m("formGroup",s.student),h(7),m("ngClass",Ve(8,Ct,s.student.controls.vorname.invalid)),h(8),m("ngClass",Ve(10,Ct,s.student.controls.nachname.invalid)),h(9),m("ngClass",Ve(12,Ct,s.student.controls.email.invalid)),h(5),m("ngIf",s.student.controls.email.invalid),h(6),m("ngClass",Ve(14,Ct,s.student.controls.matrnr.invalid)),h(3),m("ngIf",s.student.controls.matrnr.invalid),h(),m("disabled",!s.student.valid)}}function Va(i,e){i&1&&(r(0,"div",20),c(1," 5-9 Zeichen "),a())}function Ga(i,e){if(i&1){let s=k();r(0,"form",21),v("ngSubmit",function(){E(s);let n=_();return T(n.onKeySubmit())}),r(1,"div",8)(2,"span",9),f(3,"i",22),a(),r(4,"div",11),f(5,"input",23),r(6,"label"),c(7,"E-Key-ID"),a()(),A(8,Va,2,0,"div",16),a(),r(9,"div",24)(10,"button",25),v("click",function(){E(s);let n=_();return T(n.step=n.step-1)}),c(11,"zur\xFCck"),a(),r(12,"button",19),c(13," Ausleihe beginnen"),a()()()}if(i&2){let s=_();m("formGroup",s.prozessInfos),h(5),m("ngClass",Ve(4,Ct,s.prozessInfos.controls.ekeyid.invalid)),h(3),m("ngIf",s.prozessInfos.controls.ekeyid.invalid),h(4),m("disabled",s.prozessInfos.invalid)}}function La(i,e){if(i&1){let s=k();r(0,"form",21),v("ngSubmit",function(){E(s);let n=_();return T(n.submit())}),r(1,"div",26)(2,"ul",27)(3,"li",28),c(4,"Vorname"),a(),r(5,"li",28),c(6,"Nachname"),a(),r(7,"li",28),c(8,"Mail"),a(),r(9,"li",28),c(10,"Matrikelnummer"),a(),r(11,"li",28),c(12,"E-Key-ID"),a(),r(13,"li",28),c(14,"Berechtigung"),a()(),r(15,"ul",27)(16,"li",28),c(17),a(),r(18,"li",28),c(19),a(),r(20,"li",28),c(21),a(),r(22,"li",28),c(23),a(),r(24,"li",28),c(25),a(),r(26,"li",29),c(27),a()()(),r(28,"div",30),f(29,"textarea",31),r(30,"label",32),c(31,"Notizen"),a()(),r(32,"div",24)(33,"button",33),v("click",function(){E(s);let n=_();return T(n.step=n.step-1)}),c(34,"zur\xFCck"),a(),r(35,"button",33),v("click",function(){E(s);let n=_();return T(n.openPrinter())}),f(36,"i",34),c(37," Druck erneut \xF6ffnen"),a(),r(38,"button",35),c(39," Ausleihe druchf\xFChren"),a()()()}if(i&2){let s=_();m("formGroup",s.prozessInfos),h(17),O(s.student.value.vorname),h(2),O(s.student.value.nachname),h(2),O(s.student.value.email),h(2),O(s.student.value.matrnr),h(2),O(s.prozessInfos.value.ekeyid),h(),m("ngClass",s.ekeyBerechtigung=="STUD"?"list-group-item bg-success":"list-group-item bg-danger"),h(),O(s.ekeyBerechtigung)}}var to=(()=>{let e=class e{constructor(t,n,o,l){this.http=t,this.formBuilder=n,this.router=o,this.toastr=l,this.ROOT_URL=L.REST_URL,this.VERTRAG_URL=L.VERTRAG_URL,this.student=this.formBuilder.group({matrnr:["",[w.required,w.pattern("\\d{7}")]],vorname:["",[w.required,w.minLength(1)]],nachname:["",[w.required,w.minLength(1)]],email:["",[w.required,w.pattern("[a-zA-Z]+\\.[a-zA-Z]+\\d{3}")]],hat_studienbescheinigung:[!0,[]]}),this.prozessInfos=this.formBuilder.group({ekeyid:["",[w.required,w.pattern(".{5,9}")]],ausleihenotiz:["",[]]}),this.ekeyBerechtigung="",this.step=0,this.count=0}onStudentsubmit(){this.student.value.email.includes("@stud.fh-dortmund.de")||(this.student.value.email+="@stud.fh-dortmund.de"),this.http.get(this.ROOT_URL+"/ausleihen?matrnr="+this.student.value.matrnr).subscribe({next:t=>{t.length==0?this.step++:this.toastr.error(t[0].matrnr+" besitzt bereits "+t[0].ekeyid,"Ausleihe existiert bereits")}})}onKeySubmit(){return he(this,null,function*(){this.http.get(this.ROOT_URL+"/ekeys/"+this.prozessInfos.value.ekeyid).subscribe({next:t=>{if(t.length==0){this.toastr.error("E-Key existiert nicht");return}if(this.ekeyBerechtigung=t[0].berechtigung,t[0].besitzer!="FSR"){this.toastr.error("Besitzer: "+t[0].besitzer,"E-Key nicht im Besitz des FSR ");return}if(t[0].zustand!="funktioniert"){this.toastr.error("E-Key ist "+t[0].zustand,"Ung\xFCltiger Zustand");return}t.length>0&&t[0].besitzer=="FSR"&&t[0].zustand=="funktioniert"?(t[0].berechtigung=="STUD"?this.toastr.info("STUD-Ekey","E-Key ist g\xFCltig"):this.toastr.warning("Berechtigung: "+t[0].berechtigung,"Ekey besitzt h\xF6here Rechte"),this.openPrinter(),this.step++):this.toastr.error("Unbekannter Fehler","Fehler")}})})}openPrinter(){window.open(this.VERTRAG_URL+`/?vorname=${this.student.value.vorname}&name=${this.student.value.nachname}&matnr=${parseInt(this.student.value.matrnr)}&email=${this.student.value.email}&keyid=${this.prozessInfos.value.ekeyid}`,"_blank")}submit(){let t;this.prozessInfos.value.ausleihenotiz==""?t=new mt(0,parseInt(this.student.value.matrnr),this.prozessInfos.value.ekeyid,new Date,!0):t=new mt(0,parseInt(this.student.value.matrnr),this.prozessInfos.value.ekeyid,new Date,!0,this.prozessInfos.value.ausleihenotiz),console.log(this.student.value),console.log(t),this.http.post(this.ROOT_URL+"/studenten",this.student.value,{observe:"response"}).subscribe({error:n=>{n.status==201||n.status==409?(this.toastr.success("Id: "+t.matrnr,"Student erfolgreich hinzugef\xFCgt"),this.http.post(this.ROOT_URL+"/ausleihen",t,{observe:"response"}).subscribe({error:o=>{o.status==201?(this.toastr.success(t.matrnr+", "+t.ekeyid,"Ausleihe erfolgreich hinzugef\xFCgt"),this.router.navigateByUrl("/")):this.toastr.error(o.error,"Hinzuf\xFCge-Fehler bei Ausleihe "+t.ekeyid)}})):this.toastr.error(n.error,"Hinzuf\xFCge-Fehler bei Student "+t.matrnr)}})}};e.\u0275fac=function(n){return new(n||e)(p(U),p(Js),p(Oe),p(ye))},e.\u0275cmp=M({type:e,selectors:[["app-ausleihe"]],decls:8,vars:1,consts:[["form","ngForm"],[1,"container"],[1,"row","justify-content-center"],[1,"col","col-sm-11","col-lg-7"],[1,"mt-2","mb-3","text-center"],[1,"form"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"input-group","has-validation"],[1,"input-group-text"],[1,"bi","bi-person-fill"],[1,"form-floating","is-invalid"],["type","text","placeholder","Vorname","required","","formControlName","vorname",1,"form-control",3,"ngClass"],["type","text","placeholder","Nachname","required","","formControlName","nachname",1,"form-control",3,"ngClass"],[1,"bi","bi-envelope-at-fill"],["type","text","placeholder","E-Mail","required","","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"bi","bi-person-vcard-fill"],["type","text","placeholder","Matrikelnummer","required","","formControlName","matrnr",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"],[1,"invalid-feedback"],[3,"ngSubmit","formGroup"],[1,"bi","bi-key-fill"],["type","text","placeholder","Matrikelnummer","required","","formControlName","ekeyid","autofocus","",1,"form-control",3,"ngClass"],[1,"d-flex","justify-content-between"],[1,"btn","btn-secondary","mt-3",3,"click"],[1,"d-flex","mb-3"],[1,"list-group"],[1,"list-group-item"],[3,"ngClass"],[1,"form-floating","mb-3"],["placeholder","Notizen","id","floatingTextarea2","autofocus","","formControlName","ausleihenotiz",1,"form-control",2,"height","100px"],["for","floatingTextarea2"],[1,"btn","btn-secondary","ms-3",3,"click"],[1,"bi","bi-printer"],["type","submit",1,"btn","btn-primary","ms-3"]],template:function(n,o){n&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),c(4,"Ausleihe"),a(),A(5,Ba,41,16,"form",5)(6,Ga,14,6)(7,La,40,8),a()()()),n&2&&(h(5),Be(5,o.step==0?5:o.step==1?6:o.step==2?7:-1))},dependencies:[An,le,re,q,se,oe,bt,de,ue]});let i=e;return i})();var Ha=["*"];var ja=["dialog"];var io={animation:!0,transitionTimerDelayMs:5},Ua=(()=>{let e=class e{constructor(){this.animation=io.animation}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function $a(i){let{transitionDelay:e,transitionDuration:s}=window.getComputedStyle(i),t=parseFloat(e),n=parseFloat(s);return(t+n)*1e3}function no(i){return typeof i=="string"}function en(i){return i!=null}function za(i){return i&&i.then}function so(i){return(i||document.body).getBoundingClientRect()}function Wa(i){return e=>new ze(s=>{let t=l=>i.run(()=>s.next(l)),n=l=>i.run(()=>s.error(l)),o=()=>i.run(()=>s.complete());return e.subscribe({next:t,error:n,complete:o})})}var Ka=()=>{},{transitionTimerDelayMs:Ja}=io,ni=new Map,je=(i,e,s,t)=>{let n=t.context||{},o=ni.get(e);if(o)switch(t.runningTransition){case"continue":return dn;case"stop":i.run(()=>o.transition$.complete()),n=Object.assign(o.context,n),ni.delete(e)}let l=s(e,t.animation,n)||Ka;if(!t.animation||window.getComputedStyle(e).transitionProperty==="none")return i.run(()=>l()),Ce(void 0).pipe(Wa(i));let d=new V,u=new V,y=d.pipe(fn(!0));ni.set(e,{transition$:d,complete:()=>{u.next(),u.complete()},context:n});let g=$a(e);return i.runOutsideAngular(()=>{let S=Ee(e,"transitionend").pipe(Q(y),Fe(({target:N})=>N===e)),H=hn(g+Ja).pipe(Q(y));pn(H,S,u).pipe(Q(y)).subscribe(()=>{ni.delete(e),i.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()};var oo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var ro=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var ao=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})(),lo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var sn=function(i){return i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown",i}(sn||{});var _u=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||e()):!1})();var Ya=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function co(i){let e=Array.from(i.querySelectorAll(Ya)).filter(s=>s.tabIndex!==-1);return[e[0],e[e.length-1]]}var qa=(i,e,s,t=!1)=>{i.runOutsideAngular(()=>{let n=Ee(e,"focusin").pipe(Q(s),J(o=>o.target));Ee(e,"keydown").pipe(Q(s),Fe(o=>o.which===sn.Tab),ui(n)).subscribe(([o,l])=>{let[d,u]=co(e);(l===d||l===e)&&o.shiftKey&&(u.focus(),o.preventDefault()),l===u&&!o.shiftKey&&(d.focus(),o.preventDefault())}),t&&Ee(e,"click").pipe(Q(s),ui(n),J(o=>o[1])).subscribe(o=>o.focus())})};var vu=new Date(1882,10,12),yu=new Date(2174,10,25);var bu=1e3*60*60*24;var on=1080,Qa=24*on,Za=12*on+793,Cu=29*Qa+Za,Eu=11*on+204;var uo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var ho=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})(),Xa=(()=>{let e=class e{constructor(){this._ngbConfig=D(Ua),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),rt=class{constructor(e,s,t){this.nodes=e,this.viewRef=s,this.componentRef=t}};var el=(()=>{let e=class e{constructor(){this._document=D(Le)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,o=n.style,{overflow:l,paddingRight:d}=o;if(t>0){let u=parseFloat(window.getComputedStyle(n).paddingRight);o.paddingRight=`${u+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=d),o.overflow=l}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),tl=(()=>{let e=class e{constructor(){this._nativeElement=D(me).nativeElement,this._zone=D(X)}ngOnInit(){this._zone.onStable.asObservable().pipe(Pe(1)).subscribe(()=>{je(this._zone,this._nativeElement,(t,n)=>{n&&so(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return je(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,o){n&2&&(ee("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),qe("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Qe],decls:0,vars:0,template:function(n,o){},encapsulation:2});let i=e;return i})(),si=class{update(e){}close(e){}dismiss(e){}},il=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],nl=["animation","backdropClass"],tn=class{_applyWindowOptions(e,s){il.forEach(t=>{en(s[t])&&(e[t]=s[t])})}_applyBackdropOptions(e,s){nl.forEach(t=>{en(s[t])&&(e[t]=s[t])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Q(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Q(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,s,t,n){this._windowCmptRef=e,this._contentRef=s,this._backdropCmptRef=t,this._beforeDismiss=n,this._closed=new V,this._dismissed=new V,this._hidden=new V,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let s=this._beforeDismiss();za(s)?s.then(t=>{t!==!1&&this._dismiss(e)},()=>{}):s!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),s=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ce(void 0);e.subscribe(()=>{let{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),s.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Tt(e,s).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},nn=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(nn||{}),sl=(()=>{let e=class e{constructor(){this._document=D(Le),this._elRef=D(me),this._zone=D(X),this._closed$=new V,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ge,this.shown=new V,this.hidden=new V}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":no(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Pe(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,n={animation:this.animation,runningTransition:"stop"},o=je(this._zone,t,()=>t.classList.remove("show"),n),l=je(this._zone,this._dialogEl.nativeElement,()=>{},n),d=Tt(o,l);return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){let t={animation:this.animation,runningTransition:"continue"},n=je(this._zone,this._elRef.nativeElement,(l,d)=>{d&&so(l),l.classList.add("show")},t),o=je(this._zone,this._dialogEl.nativeElement,()=>{},t);Tt(n,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ee(t,"keydown").pipe(Q(this._closed$),Fe(o=>o.which===sn.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(nn.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let n=!1;Ee(this._dialogEl.nativeElement,"mousedown").pipe(Q(this._closed$),wt(()=>n=!1),ie(()=>Ee(t,"mouseup").pipe(Q(this._closed$),Pe(1))),Fe(({target:o})=>t===o)).subscribe(()=>{n=!0}),Ee(t,"click").pipe(Q(this._closed$)).subscribe(({target:o})=>{t===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!n&&this._zone.run(()=>this.dismiss(nn.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let n=t.querySelector("[ngbAutofocus]"),o=co(t)[0];(n||o||t).focus()}}_restoreFocus(){let t=this._document.body,n=this._elWithFocus,o;n&&n.focus&&t.contains(n)?o=n:o=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&je(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,o){if(n&1&&Dn(ja,7),n&2){let l;Sn(l=Mn())&&(o._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,o){n&2&&(_e("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),ee("modal d-block"+(o.windowClass?" "+o.windowClass:"")),qe("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Qe],ngContentSelectors:Ha,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,o){n&1&&(En(),r(0,"div",1,0)(2,"div",2),Tn(3),a()()),n&2&&ee("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let i=e;return i})(),ol=(()=>{let e=class e{constructor(){this._applicationRef=D(Ze),this._injector=D(fe),this._environmentInjector=D(hi),this._document=D(Le),this._scrollBar=D(el),this._activeWindowCmptHasChanged=new V,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ge;let t=D(X);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let n=this._windowCmpts[this._windowCmpts.length-1];qa(t,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,n,o){let l=o.container instanceof HTMLElement?o.container:en(o.container)?this._document.querySelector(o.container):this._document.body;if(!l)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let d=new si;t=o.injector||t;let u=t.get(hi,null)||this._environmentInjector,y=this._getContentRef(t,u,n,d,o),g=o.backdrop!==!1?this._attachBackdrop(l):void 0,S=this._attachWindowComponent(l,y.nodes),H=new tn(S,y,g,o.beforeDismiss);return this._registerModalRef(H),this._registerWindowCmpt(S),H.hidden.pipe(Pe(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=N=>{H.close(N)},d.dismiss=N=>{H.dismiss(N)},d.update=N=>{H.update(N)},H.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),g&&g.instance&&g.changeDetectorRef.detectChanges(),S.changeDetectorRef.detectChanges(),H}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(n=>n.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let n=At(tl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,n){let o=At(sl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_getContentRef(t,n,o,l,d){return o?o instanceof yn?this._createFromTemplateRef(o,l):no(o)?this._createFromString(o):this._createFromComponent(t,n,o,l,d):new rt([])}_createFromTemplateRef(t,n){let o={$implicit:n,close(d){n.close(d)},dismiss(d){n.dismiss(d)}},l=t.createEmbeddedView(o);return this._applicationRef.attachView(l),new rt([l.rootNodes],l)}_createFromString(t){let n=this._document.createTextNode(`${t}`);return new rt([[n]])}_createFromComponent(t,n,o,l,d){let u=fe.create({providers:[{provide:si,useValue:l}],parent:t}),y=At(o,{environmentInjector:n,elementInjector:u}),g=y.location.nativeElement;return d.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(y.hostView),new rt([[g]],y.hostView,y)}_setAriaHidden(t){let n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(o=>{o!==t&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,n)=>{t?n.setAttribute("aria-hidden",t):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let n=()=>{let o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let n=this._windowCmpts.indexOf(t);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ue=(()=>{let e=class e{constructor(){this._injector=D(fe),this._modalStack=D(ol),this._config=D(Xa)}open(t,n={}){let o=x(W(x({},this._config),{animation:this._config.animation}),n);return this._modalStack.open(this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),po=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({providers:[Ue]});let i=e;return i})();var fo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var mo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var go=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var _o=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var vo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var yo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var bo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var Co=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var Eo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var Tu=new B("live announcer delay",{providedIn:"root",factory:()=>100});var To=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})();var wo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({});let i=e;return i})(),rl=[oo,ro,ao,lo,uo,ho,po,fo,wo,mo,go,_o,vo,yo,bo,Co,Eo,To],Do=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({imports:[rl,oo,ro,ao,lo,uo,ho,po,fo,wo,mo,go,_o,vo,yo,bo,Co,Eo,To]});let i=e;return i})();function al(i,e){if(i&1){let s=k();r(0,"div",2)(1,"h4",3),c(2,"E-Key hinzuf\xFCgen"),a(),r(3,"button",4),v("click",function(){let n=E(s).$implicit;return T(n.dismiss("Cross click"))}),a()(),r(4,"form",5),v("ngSubmit",function(){E(s);let n=_();return T(n.saveEkey())}),r(5,"div",6)(6,"div",7)(7,"span",8),f(8,"i",9),a(),f(9,"input",10),a(),r(10,"div",7)(11,"label",11),c(12,"Besitzer"),a(),r(13,"select",12)(14,"option",13),c(15,"FSR"),a(),r(16,"option",14),c(17,"Student"),a(),r(18,"option",15),c(19,"verloren"),a()()(),r(20,"div",7)(21,"label",11),c(22,"Status"),a(),r(23,"select",16)(24,"option",17),c(25,"defekt"),a(),r(26,"option",18),c(27,"gesperrt"),a(),r(28,"option",19),c(29,"funktioniert"),a()()(),r(30,"div",7)(31,"label",11),c(32,"Berechtigung"),a(),r(33,"select",20)(34,"option",21),c(35,"STUD"),a(),r(36,"option",22),c(37,"FSRF"),a(),r(38,"option",23),c(39,"FSR"),a()()(),r(40,"div",24)(41,"span",25),f(42,"i",26),a(),f(43,"textarea",27),a(),r(44,"small",28),c(45,'Hinweis: du kannst mehrere E-Keys mit "," getrennt gleichzeitig importieren'),a()(),r(46,"div",29)(47,"button",30),c(48,"E-Key erstellen"),a()()()}if(i&2){let s=_();h(4),m("formGroup",s.ekey),h(43),m("disabled",!s.ekey.valid)}}var So=(()=>{let e=class e{constructor(t,n){this.http=t,this.toastr=n,this.modalService=D(Ue),this.ekey=new Y({ekeyid:new G("",[w.required,w.pattern("(.{5,9},)*.{5,9}")]),berechtigung:new G("STUD",[w.required,w.pattern("STUD|FSRF|FSR")]),zustand:new G("funktioniert",[w.required,w.pattern("defekt|gesperrt|funktioniert")]),besitzer:new G("FSR",[w.required,w.pattern("FSR|Student|verloren")]),notiz:new G("")})}saveEkey(){(this.ekey.value.ekeyid?.split(",")??[""]).forEach(n=>{this.ekey.patchValue({ekeyid:n}),this.http.post(L.REST_URL+"/ekeys/",this.ekey.getRawValue(),{observe:"response"}).subscribe({error:o=>{o.status==201?this.toastr.success("Id: "+n,"E-Key erfolgreich hinzugef\xFCgt"):this.toastr.error(o.error,"Hinzuf\xFCge-Fehler bei "+n)}})}),this.ekey.reset(),this.modalService.dismissAll()}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}};e.\u0275fac=function(n){return new(n||e)(p(U),p(ye))},e.\u0275cmp=M({type:e,selectors:[["app-create-ekey-modal"]],decls:4,vars:0,consts:[["content",""],[1,"btn","btn-primary",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"bi","bi-key-fill"],["formControlName","ekeyid","type","text","placeholder","E-Key-ID (5-9 Zeichen)","aria-label","E-Key-ID",1,"form-control"],["for","inputGroupSelect01",1,"input-group-text"],["formControlName","besitzer","id","inputGroupSelect01",1,"form-select"],["value","FSR","selected",""],["value","Student"],["value","verloren"],["formControlName","zustand","id","inputGroupSelect02",1,"form-select"],["value","defekt"],["value","gesperrt"],["value","funktioniert"],["formControlName","berechtigung","id","inputGroupSelect03",1,"form-select"],["value","STUD"],["value","FSRF"],["value","FSR"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-pencil-square"],["formControlName","notiz","placeholder","Notizen","aria-label","Notizen",1,"form-control"],[1,"text-secondary"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(n&1){let l=k();A(0,al,49,2,"ng-template",null,0,Ge),r(2,"button",1),v("click",function(){E(l);let u=ve(1);return T(o.open(u))}),c(3,"E-Key hinzuf\xFCgen"),a()}},dependencies:[re,Zt,Xt,q,nt,se,oe,de,ue]});let i=e;return i})();function cl(i,e){if(i&1){let s=k();r(0,"div",3)(1,"h4",4),c(2,"E-Key bearbeiten"),a(),r(3,"button",5),v("click",function(){let n=E(s).$implicit;return T(n.dismiss("Cross click"))}),a()(),r(4,"div",6)(5,"div",7)(6,"span",8),f(7,"i",9),a(),f(8,"input",10),a(),r(9,"div",7)(10,"label",11),c(11,"Besitzer"),a(),r(12,"select",12)(13,"option",13),c(14),a()()(),r(15,"div",7)(16,"label",11),c(17,"Status"),a(),r(18,"select",14)(19,"option",13),c(20),a()()(),r(21,"form",15),v("ngSubmit",function(){E(s);let n=_();return T(n.saveEkey())}),r(22,"div",7)(23,"label",11),c(24,"Berechtigung"),a(),r(25,"select",16)(26,"option",17),c(27,"STUD"),a(),r(28,"option",18),c(29,"FSRF"),a(),r(30,"option",19),c(31,"FSR"),a()()(),r(32,"div",20)(33,"span",21),f(34,"i",2),a(),f(35,"textarea",22),a(),r(36,"div",23)(37,"button",24),c(38,"E-Key bearbeiten"),a()()()()}if(i&2){let s=_();h(8),wn("placeholder",s.ekeyid),h(6),O(s.ekeydata==null?null:s.ekeydata.besitzer),h(6),O(s.ekeydata==null?null:s.ekeydata.zustand),h(),m("formGroup",s.ekey),h(16),m("disabled",!s.ekey.valid)}}var Mo=(()=>{let e=class e{constructor(t){this.http=t,this.ROOT_URL=L.REST_URL+"/ekeys",this.modalService=D(Ue),this.ekey=new Y({berechtigung:new G("FSR",[w.required,w.pattern("FSR|STUD|FSRF")]),notiz:new G("")})}saveEkey(){this.http.put(this.ROOT_URL,{ekeyid:this.ekeyid,berechtigung:this.ekey.value.berechtigung,notiz:this.ekey.value.notiz},{observe:"response"}).subscribe({error:t=>{t.status!=200&&(console.log("Da ist etwas schief gelaufen mit den bearbeiten von dem Ekey"),console.log(t))}}),this.ekey.reset(),this.modalService.dismissAll()}open(t){this.http.get(this.ROOT_URL+"/"+this.ekeyid).subscribe({next:n=>{this.ekeydata=n[0],this.ekey.setValue({berechtigung:this.ekeydata.berechtigung,notiz:this.ekeydata.notiz})},error:n=>{console.log(n.status)}}),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}};e.\u0275fac=function(n){return new(n||e)(p(U))},e.\u0275cmp=M({type:e,selectors:[["app-edit-ekey-modal"]],inputs:{ekeyid:"ekeyid"},decls:4,vars:0,consts:[["content",""],[3,"click"],[1,"bi","bi-pencil-square"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"bi","bi-key-fill"],["type","text","aria-label","E-Key-ID","readonly","",1,"form-control",3,"placeholder"],["for","inputGroupSelect01",1,"input-group-text"],["id","inputGroupSelect01","disabled","",1,"form-select"],["selected","selected"],["id","inputGroupSelect02","disabled","",1,"form-select"],[3,"ngSubmit","formGroup"],["formControlName","berechtigung","id","inputGroupSelect03",1,"form-select"],["value","STUD"],["value","FSRF"],["value","FSR"],[1,"input-group"],[1,"input-group-text"],["formControlName","notiz","placeholder","Notizen","aria-label","Notizen",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(n&1){let l=k();A(0,cl,39,5,"ng-template",null,0,Ge),r(2,"button",1),v("click",function(){E(l);let u=ve(1);return T(o.open(u))}),f(3,"i",2),a()}},dependencies:[re,Zt,Xt,q,nt,se,oe,de,ue]});let i=e;return i})();function ul(i,e){if(i&1){let s=k();r(0,"div",2)(1,"h4",3),c(2,"E-Keys entsperren"),a(),r(3,"button",4),v("click",function(){let n=E(s).$implicit;return T(n.dismiss("Cross click"))}),a()(),r(4,"form",5),v("ngSubmit",function(){E(s);let n=_();return T(n.saveEkey())}),r(5,"div",6)(6,"p"),c(7,'Die einzelnen IDs mit "," trennnen'),a(),r(8,"div",7)(9,"span",8),f(10,"i",9),a(),f(11,"input",10),a(),r(12,"div",11)(13,"span",12),f(14,"i",13),a(),f(15,"textarea",14),a()(),r(16,"div",15)(17,"button",16),c(18,"E-Key sind Entsperrt"),a()()()}if(i&2){let s=_();h(4),m("formGroup",s.ekey),h(13),m("disabled",!s.ekey.valid)}}var Oo=(()=>{let e=class e{constructor(t,n){this.http=t,this.toastr=n,this.modalService=D(Ue),this.ekey=new Y({ekeyid:new G("",[w.required,w.pattern("(.{5,9},)*.{5,9}")]),notiz:new G("")})}saveEkey(){(this.ekey.value.ekeyid?.split(",")??[""]).forEach(n=>{this.ekey.patchValue({ekeyid:n,notiz:this.ekey.value.notiz}),this.http.post(L.REST_URL+"/ekeys/entsperren",this.ekey.getRawValue(),{observe:"response"}).subscribe({error:o=>{o.status==200?this.toastr.success("Id: "+n,"Erfolgreich entsperrt"):this.toastr.error(o.error,"Entsperr-Fehler bei "+n)}})}),this.ekey.reset(),this.modalService.dismissAll()}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"})}};e.\u0275fac=function(n){return new(n||e)(p(U),p(ye))},e.\u0275cmp=M({type:e,selectors:[["app-entsperr-ekey-modal"]],decls:4,vars:0,consts:[["content",""],[1,"btn","btn-primary",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"bi","bi-key-fill"],["formControlName","ekeyid","type","text","placeholder","E-Key-ID","aria-label","E-Key-ID",1,"form-control"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-pencil-square"],["formControlName","notiz","placeholder","Notizen","aria-label","Notizen",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(n&1){let l=k();A(0,ul,19,2,"ng-template",null,0,Ge),r(2,"button",1),v("click",function(){E(l);let u=ve(1);return T(o.open(u))}),c(3,"E-Keys entsperren"),a()}},dependencies:[re,q,se,oe,de,ue]});let i=e;return i})();function pl(i,e){if(i&1&&(r(0,"ul",1)(1,"li",2)(2,"div",3)(3,"div",4),c(4),a(),r(5,"div",4),c(6),a(),r(7,"div",4),c(8),a(),r(9,"div",4),c(10),a(),r(11,"div",7),c(12),a(),r(13,"div",5),f(14,"app-edit-ekey-modal",8),a()()()()),i&2){let s=e.$implicit;h(4),O(s.ekeyid),h(2),O(s.besitzer),h(2),O(s.zustand),h(2),O(s.berechtigung),h(2),O(s.notiz),h(2),m("ekeyid",s.ekeyid)}}var Ro=(()=>{let e=class e{constructor(t){this.http=t,this.ROOT_URL=L.REST_URL+"/ekeys/"}ngOnInit(){this.ekeys=this.http.get(this.ROOT_URL)}};e.\u0275fac=function(n){return new(n||e)(p(U))},e.\u0275cmp=M({type:e,selectors:[["app-ekey-list"]],decls:22,vars:3,consts:[[1,"d-flex","justify-content-between","mt-3","mb-3"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],[1,"col-1"],["class","list-group",4,"ngFor","ngForOf"],[1,"col","text-break"],[3,"ekeyid"]],template:function(n,o){n&1&&(r(0,"div",0),f(1,"app-entsperr-ekey-modal")(2,"app-create-ekey-modal"),a(),r(3,"div")(4,"ul",1)(5,"li",2)(6,"div",3)(7,"div",4),c(8,"EkeyID"),a(),r(9,"div",4),c(10,"Besitzer"),a(),r(11,"div",4),c(12,"Status"),a(),r(13,"div",4),c(14,"Berechtigung"),a(),r(15,"div",4),c(16,"Notiz"),a(),r(17,"div",5),c(18,"bearbeiten"),a()()()()(),r(19,"div"),A(20,pl,15,6,"ul",6),ct(21,"async"),a()),n&2&&(h(20),m("ngForOf",dt(21,1,o.ekeys)))},dependencies:[kn,So,Mo,Oo,kt]});let i=e;return i})();function fl(i,e){i&1&&(r(0,"div",9)(1,"span",11),f(2,"i",12),a(),f(3,"input",13),a())}function ml(i,e){i&1&&(r(0,"div",9)(1,"span",11),f(2,"i",14),a(),f(3,"input",15),a())}function gl(i,e){if(i&1&&(r(0,"button",16),c(1,"Weiter zur \xDCbersicht "),a()),i&2){let s=_(2);m("disabled",!s.rueckgabe.valid)}}function _l(i,e){if(i&1){let s=k();r(0,"div",3)(1,"form",4),v("ngSubmit",function(){E(s);let n=_();return T(n.getAusleihe())}),r(2,"div")(3,"input",5),v("click",function(){E(s);let n=_();return T(n.changeMode(!1))}),a(),r(4,"label",6),c(5,"nach KeyId"),a(),r(6,"input",7),v("click",function(){E(s);let n=_();return T(n.changeMode(!0))}),a(),r(7,"label",8),c(8,"nach MatNr"),a()(),A(9,fl,4,0,"div",9)(10,ml,4,0)(11,gl,2,1,"button",10),a()()}if(i&2){let s=_();h(),m("formGroup",s.rueckgabe),h(2),m("value",!1),h(3),m("value",!0),h(3),Be(9,s.rueckgabe.value.rueckgabeNachMatrNr===!0?9:s.rueckgabe.value.rueckgabeNachMatrNr===!1?10:-1),h(2),Be(11,s.rueckgabe.value.rueckgabeNachMatrNr!=null?11:-1)}}function vl(i,e){if(i&1){let s=k();r(0,"div")(1,"div",17)(2,"ul",18)(3,"li",19),c(4,"AusleihNr"),a(),r(5,"li",19),c(6,"E-Key-ID"),a(),r(7,"li",19),c(8,"Matrikelnumer"),a(),r(9,"li",19),c(10,"Beginn"),a(),r(11,"li",19),c(12,"Ende"),a(),r(13,"li",19),c(14,"Studibescheinigung"),a(),r(15,"li",19),c(16,"Letzte R\xFCckmeldung"),a(),r(17,"li",19),c(18,"Notiz"),a()(),r(19,"ul",18)(20,"li",19),c(21),a(),r(22,"li",19),c(23),a(),r(24,"li",19),c(25),a(),r(26,"li",19),c(27),a(),r(28,"li",19),c(29),a(),r(30,"li",19),c(31),a(),r(32,"li",19),c(33),a(),f(34,"textarea",20),a()(),r(35,"button",21),v("click",function(){E(s);let n=_();return T(n.back())}),c(36,"zur\xFCck"),a(),r(37,"button",22),v("click",function(){E(s);let n=_();return T(n.keysperren())}),c(38,"E-Key sperren"),a(),r(39,"button",23),v("click",function(){E(s);let n=_();return T(n.rueckgabeStarten())}),c(40,"R\xFCckgabe abschlie\xDFen"),a()()}if(i&2){let s=_();h(21),O(s.ausleihe.ausleihnr),h(2),O(s.ausleihe.ekeyid),h(2),O(s.ausleihe.matrnr),h(2),O(s.ausleihe.beginn),h(2),O(s.ausleihe.ende==null?"unbekannt":s.ausleihe.ende),h(2),O(s.ausleihe.hat_studienbescheinigung?"vorhanden":"nicht vorhanden"),h(2),K("",s.ausleihe.letztemeldung==null?"unbekannt":s.ausleihe.letztemeldung," "),h(),m("value",s.ausleihe.notiz)}}function yl(i,e){if(i&1){let s=k();r(0,"div")(1,"p"),c(2,"Dieser E-Key war gesperrt, du kannst ihn zur\xFCck nehmen, darfst jedoch keinen Pfand auszahlen."),a(),r(3,"button",21),v("click",function(){E(s);let n=_(2);return T(n.back())}),c(4,"zur\xFCck"),a(),r(5,"button",23),v("click",function(){E(s);let n=_(2);return T(n.zuruecknehmenVonGesperrt())}),c(6,"Zur\xFCck nehmen"),a()()}}function bl(i,e){if(i&1&&A(0,yl,7,0,"div",24),i&2){let s=_();m("ngIf",s.ekey.zustand=="gesperrt"&&s.ekey.besitzer!="FSR")}}var Ao=(()=>{let e=class e{changeMode(t){t?this.rueckgabe.get("id")?.setValidators([w.required,w.pattern("[0-9]{7}")]):this.rueckgabe.get("id")?.setValidators([w.required,w.pattern(".{5,9}")]),this.rueckgabe.get("id")?.updateValueAndValidity({emitEvent:!1})}constructor(t,n){this.http=t,this.toastr=n,this.rueckgabe=new Y({rueckgabeNachMatrNr:new G(void 0,[w.required]),id:new G(void 0,[])}),this.ausleihe=void 0,this.showAusleiheDetails=!1,this.geschehen="",this.ROOT_URL=L.REST_URL}getAusleihe(){let t;this.rueckgabe.value.rueckgabeNachMatrNr?t="matrnr":t="ekeyid",this.http.get(this.ROOT_URL+"/ausleihen?"+t+"="+this.rueckgabe.value.id).subscribe({next:n=>{this.ausleihe=n[0],console.log(n),this.ausleihe===void 0?this.http.get(this.ROOT_URL+"/ekeys/"+this.rueckgabe.value.id).subscribe({next:o=>{if(this.ekey=o[0],this.ekey==null){if(this.rueckgabe.value.rueckgabeNachMatrNr){this.toastr.error("Dieser Studi existiert nicht oder hat keine Ausleihe");return}else if(!this.rueckgabe.value.rueckgabeNachMatrNr){this.toastr.error("Dieser E-Key existiert nicht");return}}if(this.ekey.zustand!="gesperrt"||this.ekey.zustand=="gesperrt"&&this.ekey.besitzer=="FSR"){this.toastr.error("Keine Ausleihe existiert");return}this.showAusleiheDetails=!0},error:o=>{this.toastr.error(o.error,"Fehler")}}):this.showAusleiheDetails=!0},error:n=>{this.toastr.error(n.error,"Fehler"),console.log(n.status)}})}rueckgabeStarten(){this.ausleihe&&this.http.post(this.ROOT_URL+"/ausleihen/end",{ekeyid:this.ausleihe.ekeyid},{observe:"response"}).subscribe({error:t=>{t.status==200?(this.showAusleiheDetails=!1,this.geschehen="R\xFCckgabe",this.toastr.success("R\xFCckgabe wurde eingef\xFCgt")):(this.toastr.error(t.error,"Ausleihe konnte nicht eingef\xFCgt werden"),console.log(t))}})}keysperren(){this.ausleihe&&this.http.post(this.ROOT_URL+"/ekeys/sperren",{ekeyid:this.ausleihe.ekeyid},{observe:"response"}).subscribe({error:t=>{t.status==200?(this.showAusleiheDetails=!1,this.geschehen="Sperrung",this.toastr.success(this.ekey?.ekeyid,"Ekey wurde gesperrt")):(this.toastr.error(t.error,"Fehler"),console.log(t))}})}back(){this.ausleihe=void 0,this.showAusleiheDetails=!1}zuruecknehmenVonGesperrt(){this.ekey&&this.http.post(this.ROOT_URL+"/ekeys/zuruecknehmen",{ekeyid:this.ekey.ekeyid},{observe:"response"}).subscribe({error:t=>{t.status==200?(this.showAusleiheDetails=!1,this.geschehen="Zur\xFCcknehmen",this.toastr.success("ID"+this.ekey?.ekeyid,"E-Key erfolgreich zur\xFCckgenommen")):(this.toastr.error(t.error,"Fehler beim zur\xFCck nehmen"),console.log(`Fehler beim zur\xFCck nehmen! 
`+t))}})}};e.\u0275fac=function(n){return new(n||e)(p(U),p(ye))},e.\u0275cmp=M({type:e,selectors:[["app-rueckgabe"]],decls:7,vars:1,consts:[[1,"container","text-center"],[1,"row","justify-content-center"],[1,"mt-2","mb-3"],[1,"col","col-sm-11","col-lg-7"],[3,"ngSubmit","formGroup"],["type","radio","id","option1","autocomplete","off","formControlName","rueckgabeNachMatrNr",1,"btn-check",3,"click","value"],["for","option1",1,"btn","btn-outline-primary","m-2"],["type","radio","id","option2","checked","","autocomplete","off","formControlName","rueckgabeNachMatrNr",1,"btn-check",3,"click","value"],["for","option2",1,"btn","btn-outline-primary","m-2"],[1,"input-group","mb-3"],["type","submit",1,"btn","btn-primary","mb-3"],[1,"input-group-text"],[1,"bi","bi-person-fill"],["type","text","placeholder","Matrikelnummer","aria-label","Matrikelnummer","formControlName","id",1,"form-control"],[1,"bi","bi-key-fill"],["type","text","placeholder","E-Key-ID","aria-label","E-Key-ID","formControlName","id",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3",3,"disabled"],[1,"d-flex","mb-3","mt-4","justify-content-center"],[1,"list-group","text-start"],[1,"list-group-item"],["placeholder","Notizen","aria-label","Notizen",1,"form-control","list-group-item",3,"value"],[1,"btn","btn-secondary","ms-3",3,"click"],[1,"btn","btn-danger","m-3",3,"click"],[1,"btn","btn-primary","m-3",3,"click"],[4,"ngIf"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),c(3,"R\xFCckgabe"),a(),A(4,_l,12,5,"div",3)(5,vl,41,8)(6,bl,1,1),a()()),n&2&&(h(4),Be(4,o.showAusleiheDetails?o.showAusleiheDetails&&o.ausleihe!=null?5:o.showAusleiheDetails&&o.ekey!=null?6:-1:4))},dependencies:[le,re,q,zi,se,oe,de,ue]});let i=e;return i})();var ko=an(Ii());var No=(()=>{let e=class e{constructor(t){this.http=t}gentxt(){let t="";this.http.get(L.REST_URL+"/studenten/aktive").subscribe({next:n=>{n.forEach(l=>t+=l.email+","),t=t.slice(0,-1);let o=new Blob([t],{type:"text/plain;charset=utf-8"});(0,ko.saveAs)(o,"mailinglisteRueckmeldung.txt")}})}};e.\u0275fac=function(n){return new(n||e)(p(U))},e.\u0275cmp=M({type:e,selectors:[["app-rueckmeldung"]],decls:4,vars:0,consts:[[1,"btn","btn-primary",3,"click"]],template:function(n,o){n&1&&(r(0,"p"),c(1,"Hier kannst du eine Liste mit allen Mails von den E-Key Besitzern herrunterladen"),a(),r(2,"button",0),v("click",function(){return o.gentxt()}),c(3,"Mailliste herunterladen"),a())}});let i=e;return i})();var rn=J(i=>!!i),$e=(()=>{class i{router;auth;constructor(s,t){this.router=s,this.auth=t}canActivate=(s,t)=>{let n=s.data.authGuardPipe||(()=>rn);return this.auth.user.pipe(Pe(1),n(s,t),J(o=>typeof o=="boolean"?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(t){return new(t||i)(R(Oe),R(Te))};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})();var xo=i=>ai(rn,J(e=>e||i)),Io=i=>ai(rn,J(e=>e&&i||!0));var Fo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["app-loading-spinner"]],decls:10,vars:0,consts:[[1,"loadingio-spinner-bean-eater-y0w5smpkdf8"],[1,"ldio-z32tbfm6kk"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"div"),f(3,"div")(4,"div")(5,"div"),a(),r(6,"div"),f(7,"div")(8,"div")(9,"div"),a()()())},styles:[`@keyframes _ngcontent-%COMP%_ldio-z32tbfm6kk-1 {
    0% { transform: rotate(0deg) }
    50% { transform: rotate(-45deg) }
    100% { transform: rotate(0deg) }
  }
  @keyframes _ngcontent-%COMP%_ldio-z32tbfm6kk-2 {
    0% { transform: rotate(180deg) }
    50% { transform: rotate(225deg) }
    100% { transform: rotate(180deg) }
  }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(2) {
    transform: translate(-15px,0);
  }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(2)   div[_ngcontent-%COMP%] {
    position: absolute;
    top: 40px;
    left: 40px;
    width: 120px;
    height: 60px;
    border-radius: 120px 120px 0 0;
    background: #f8b26a;
    animation: _ngcontent-%COMP%_ldio-z32tbfm6kk-1 1s linear infinite;
    transform-origin: 60px 60px
  }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(2)   div[_ngcontent-%COMP%]:nth-child(2) {
    animation: _ngcontent-%COMP%_ldio-z32tbfm6kk-2 1s linear infinite
  }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(2)   div[_ngcontent-%COMP%]:nth-child(3) {
    transform: rotate(-90deg);
    animation: none;
  }@keyframes _ngcontent-%COMP%_ldio-z32tbfm6kk-3 {
     0% { transform: translate(190px,0); opacity: 0 }
     20% { opacity: 1 }
     100% { transform: translate(70px,0); opacity: 1 }
   }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(1) {
    display: block;
  }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(1)   div[_ngcontent-%COMP%] {
    position: absolute;
    top: 92px;
    left: -8px;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: #e15b64;
    animation: _ngcontent-%COMP%_ldio-z32tbfm6kk-3 1s linear infinite
  }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(1)   div[_ngcontent-%COMP%]:nth-child(1) { animation-delay: -0.67s }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(1)   div[_ngcontent-%COMP%]:nth-child(2) { animation-delay: -0.33s }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-child(1)   div[_ngcontent-%COMP%]:nth-child(3) { animation-delay: 0s }
  .loadingio-spinner-bean-eater-y0w5smpkdf8[_ngcontent-%COMP%] {
    width: 200px;
    height: 200px;
    display: inline-block;
    overflow: hidden;
  }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%] {
    width: 100%;
    height: 100%;
    position: relative;
    transform: translateZ(0) scale(1);
    backface-visibility: hidden;
    transform-origin: 0 0; 

  }
  .ldio-z32tbfm6kk[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] { box-sizing: content-box; }
  
`]});let i=e;return i})();function El(i,e){if(i&1&&(r(0,"div",9),c(1),a()),i&2){let s=_();h(),O(s.error)}}function Tl(i,e){i&1&&(r(0,"div",10),f(1,"app-loading-spinner"),a())}function wl(i,e){if(i&1){let s=k();r(0,"form",11,0),v("ngSubmit",function(){E(s);let n=ve(1),o=_();return T(o.onSubmit(n))}),r(2,"div",12)(3,"span",13),c(4,"@"),a(),f(5,"input",14),a(),r(6,"div",12)(7,"span",13),f(8,"i",15),a(),f(9,"input",16),a(),r(10,"button",17),c(11),a()()}if(i&2){let s=ve(1),t=_();h(10),m("disabled",!s.valid),h(),O(t.isLoginMode?"Einloggen":"Registrieren")}}var Po=(()=>{let e=class e{constructor(t,n){this.auth=t,this.router=n,this.isLoginMode=!0,this.isLoading=!1,this.errorMessageMap={"auth/invalid-email":"Email ung\xFCltig","auth/invalid-credential":"Falsches Passwort oder Account existiert nicht","auth/missing-password":"Passwort fehlt","auth/email-already-in-use":"Email wird bereits verwendet"},this.error=""}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(t){if(!t.valid)return;let n=t.value.email,o=t.value.password;this.isLoading=!0,this.isLoginMode?this.auth.signInWithEmailAndPassword(n,o).then(()=>{this.isLoading=!1,this.router.navigate(["/"])}).catch(l=>{for(let d of Object.keys(this.errorMessageMap)){if(l.message.includes(d)){this.isLoading=!1,this.error=this.errorMessageMap[d];break}this.isLoading=!1,this.error=l}}):this.auth.createUserWithEmailAndPassword(n,o).then(()=>this.isLoading=!1).catch(l=>{for(let d of Object.keys(this.errorMessageMap)){if(l.message.includes(d)){this.isLoading=!1,this.error=this.errorMessageMap[d];break}this.isLoading=!1,this.error=l}}),t.reset(),this.error=""}};e.\u0275fac=function(n){return new(n||e)(p(Te),p(Oe))},e.\u0275cmp=M({type:e,selectors:[["app-auth"]],decls:9,vars:3,consts:[["authForm","ngForm"],[1,"container","text-center"],[1,"row","justify-content-center"],[1,"col","col-sm-10","col-lg-5"],["ngSrc","./assets/images/fsrlogo_white.svg","height","2534","width","4000","alt","fsrlogo",1,"img-fluid"],[1,"mt-2","mb-3"],["class","alert alert-danger",4,"ngIf"],["style","text-align: center",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[2,"text-align","center"],[3,"ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","email","placeholder","E-Mail","ngModel","","name","email","required","","email","",1,"form-control"],[1,"bi","bi-key-fill"],["type","password","placeholder","Passwort","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-3",3,"disabled"]],template:function(n,o){n&1&&(r(0,"div",1)(1,"div",2)(2,"div",3),f(3,"img",4),r(4,"h1",5),c(5,"E-Key-Manager"),a(),A(6,El,2,1,"div",6)(7,Tl,2,0,"div",7)(8,wl,12,2,"form",8),a()()()),n&2&&(h(6),m("ngIf",o.error),h(),m("ngIf",o.isLoading),h(),m("ngIf",!o.isLoading))},dependencies:[le,re,q,se,oe,bt,Ji,Ki,$i,Ui,Nt,Fo]});let i=e;return i})();var Et=()=>xo(["auth"]),Dl=()=>Io(["/"]),Sl=[{path:"",component:hs,canActivate:[$e],data:{authGuardPipe:Et}},{path:"ausleihe",component:to,canActivate:[$e],data:{authGuardPipe:Et}},{path:"ekey-list",component:Ro,canActivate:[$e],data:{authGuardPipe:Et}},{path:"r\xFCckgabe",component:Ao,canActivate:[$e],data:{authGuardPipe:Et}},{path:"r\xFCckmeldung",component:No,canActivate:[$e],data:{authGuardPipe:Et}},{path:"auth",component:Po,canActivate:[$e],data:{authGuardPipe:Dl}}],Bo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({imports:[yi.forRoot(Sl),yi]});let i=e;return i})();function Ml(i,e){if(i&1){let s=k();r(0,"div",7)(1,"ul",8)(2,"li",9)(3,"a",10),c(4,"Dashboard"),a()(),r(5,"li")(6,"a",11),c(7,"Ausleihe"),a()(),r(8,"li")(9,"a",12),c(10,"R\xFCckgabe"),a()(),r(11,"li")(12,"a",13),c(13,"E-Keys"),a()(),r(14,"li")(15,"a",14),c(16,"R\xFCckmeldung"),a()()(),r(17,"div",15)(18,"span",16),c(19),a(),r(20,"button",17),v("click",function(){E(s);let n=_();return T(n.logOut())}),c(21,"Abmelden"),a()()()}if(i&2){let s=e.ngIf;h(19),O(s.email)}}var Vo=(()=>{let e=class e{constructor(t,n){this.auth=t,this.router=n,this.user$=this.auth.user}logOut(){this.auth.signOut().then(()=>this.router.navigateByUrl("/auth"))}};e.\u0275fac=function(n){return new(n||e)(p(Te),p(Oe))},e.\u0275cmp=M({type:e,selectors:[["app-navbar"]],decls:8,vars:3,consts:[[1,"navbar","navbar-expand-md","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["ngSrc","./assets/images/fsrlogokeintext.svg","alt","FSR-Logo","height","24","width","65"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["class","collapse navbar-collapse","id","navbarSupportedContent",4,"ngIf"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","/",1,"nav-link"],["href","/ausleihe",1,"nav-link"],["href","/r\xFCckgabe",1,"nav-link"],["href","/ekey-list",1,"nav-link"],["href","/r\xFCckmeldung",1,"nav-link"],[1,"d-flex","flex-column"],[1,"m-0","p-0","text-end"],[1,"btn","btn-link","text-end","m-0","p-0",3,"click"]],template:function(n,o){n&1&&(r(0,"nav",0)(1,"div",1)(2,"a",2),f(3,"img",3),a(),r(4,"button",4),f(5,"span",5),a(),A(6,Ml,22,1,"div",6),ct(7,"async"),a()()),n&2&&(h(6),m("ngIf",dt(7,1,o.user$)))},dependencies:[le,Nt,kt]});let i=e;return i})();var oi=(()=>{let e=class e{constructor(t){this.http=t,this.title="e-key-manager"}};e.\u0275fac=function(n){return new(n||e)(p(U))},e.\u0275cmp=M({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(n,o){n&1&&(f(0,"app-navbar"),r(1,"div",0),f(2,"router-outlet"),a())},dependencies:[Hn,Vo]});let i=e;return i})();var Go=(()=>{let e=class e{constructor(t){this.afAuth=t}intercept(t,n){return this.afAuth.idToken.pipe(ie(o=>{if(o){let l=t.clone({setHeaders:{Authorization:o}});return n.handle(l)}else return n.handle(t)}))}};e.\u0275fac=function(n){return new(n||e)(R(Te))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let i=e;return i})();var Lo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e,bootstrap:[oi]}),e.\u0275inj=b({providers:[Bn(),{provide:xn,useClass:Go,multi:!0}],imports:[Fn,Bo,Qn.initializeApp(L.firebase),ds,Ys,Do,In,qs,Gn,eo.forRoot()]});let i=e;return i})();var Rl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e,bootstrap:[oi]}),e.\u0275inj=b({imports:[Lo,Ln]});let i=e;return i})();export{Rl as default};
